<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to vosonSML • vosonSML</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to vosonSML">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vosonSML</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.35.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper"></span> Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-cubes fa-lg"></span> Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Intro-to-vosonSML.html"><span class="fa far fa-file-alt"></span> Introduction to vosonSML</a></li>
    <li><a class="external-link dropdown-item" href="https://vosonlab.github.io/posts/2021-03-15-hyperlink-networks-with-vosonsml"><span class="fa far fa-file-alt"></span> Hyperlink Networks with vosonSML</a></li>
    <li><a class="external-link dropdown-item" href="https://vosonlab.github.io/posts/2022-06-05-egocentric-networks-from-twitter-timelines"><span class="fa far fa-file-alt"></span> Egocentric Networks from Twitter timelines</a></li>
    <li><a class="external-link dropdown-item" href="https://vosonlab.github.io/posts/2021-10-01-testing-bot-status-of-twitter-users"><span class="fa far fa-file-alt"></span> Testing the bot status of users in Twitter networks collected via vosonSML</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://vosonlab.net/" aria-label="VOSON Lab Web Site"><span class="fa fa-flask fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://x.com/vosonlab" aria-label="VOSON Lab on X"><span class="fa fab fa-twitter-square fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vosonlab/vosonSML" aria-label="vosonSML Package on Github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to vosonSML</h1>
            <h3 data-toc-skip class="subtitle">VOSON Lab, Australian
National University</h3>
                        <h4 data-toc-skip class="author">Robert Ackland,
Bryan Gertzel, Francisca Borquez</h4>
            
            <h4 data-toc-skip class="date">03 July, 2025</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/vosonlab/vosonSML/blob/HEAD/vignettes/Intro-to-vosonSML.Rmd" class="external-link"><code>vignettes/Intro-to-vosonSML.Rmd</code></a></small>
      <div class="d-none name"><code>Intro-to-vosonSML.Rmd</code></div>
    </div>

    
    
<p>The following guide provides an introduction to using <a href="https://github.com/vosonlab/vosonSML" class="external-link">vosonSML</a>, which is
available both on GitHub and <a href="https://cran.r-project.org/package=vosonSML" class="external-link">CRAN</a>. More
resources are available on the VOSON Lab website (<a href="http://vosonlab.net/socialmedialab" class="external-link">vosonSML</a> and <a href="http://vosonlab.net/resources_training" class="external-link">training materials</a>).
For a full list of functions, please refer to the <a href="https://vosonlab.github.io/vosonSML/reference/index.html">reference
page</a>. The companion package to <code>vosonSML</code> is <a href="https://github.com/vosonlab/VOSONDash" class="external-link">VOSON Dashboard</a>, which
provides an R/Shiny graphical user interface for data collection (via
<code>vosonSML</code>), network and text analysis.</p>
<p>To use <code>vosonSML</code>, you first need to load it into the
session:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vosonlab.github.io/vosonSML/">vosonSML</a></span><span class="op">)</span></span></code></pre></div>
<p>There are three steps involved in data collection and network
creation using <code>vosonSML</code>. These are:</p>
<ol style="list-style-type: decimal">
<li>
<em>Authenticate</em> with the platform API, using the function
<code><a href="../reference/Authenticate.html">Authenticate()</a></code>
</li>
<li>
<em>Collect</em> data from the API and store it for later use, using
<code><a href="../reference/Collect.html">Collect()</a></code>
</li>
<li>
<em>Create</em> networks from the collected data, using
<code><a href="../reference/Create.html">Create()</a></code> and <code><a href="../reference/Graph.html">Graph()</a></code>
</li>
</ol>
<div class="section level2">
<h2 id="youtube">YouTube<a class="anchor" aria-label="anchor" href="#youtube"></a>
</h2>
<div class="section level3">
<h3 id="authenticating-with-the-youtube-api">Authenticating with the YouTube API<a class="anchor" aria-label="anchor" href="#authenticating-with-the-youtube-api"></a>
</h3>
<p>To collect YouTube data, it is necessary to first create a Google app
with access to the YouTube Data API via the <a href="https://console.developers.google.com/apis" class="external-link">Google APIs
console</a> and generate an associated API key. The following shows the
creation of a YouTube access token by passing a Google developer API key
to the <code>Autnenticate()</code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create auth object with api key</span></span>
<span><span class="va">youtubeAuth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"youtube"</span>, apiKey <span class="op">=</span> <span class="st">"xxxxxxxx"</span><span class="op">)</span></span></code></pre></div>
<p>The YouTube access token can optionally be saved to disk for use in a
later session:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">youtubeAuth</span>, file <span class="op">=</span> <span class="st">"youtube_auth"</span><span class="op">)</span></span></code></pre></div>
<p>The following loads into the current session a previously-created
authentication object:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">youtubeAuth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"youtube_auth"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="collecting-data-from-youtube">Collecting Data from YouTube<a class="anchor" aria-label="anchor" href="#collecting-data-from-youtube"></a>
</h3>
<p>The YouTube video IDs (the part after “=” in the YouTube URL) are
required in order to collect YouTube comment data. These IDs can either
be manually provided or automatically extracted from the URLs:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>videoIDs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="st">"xxxxxx"</span>,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="st">"https://www.youtube.com/watch?v=xxxxxxxx"</span>,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="st">"https://youtu.be/xxxxxxxx"</span>)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="er">)</span></span></code></pre></div>
<p>The character vector containing the YouTube video IDs or URLs is
passed as a parameter to the <code><a href="../reference/Collect.html">Collect()</a></code> function (the
following code also shows the YouTube access token being piped to
<code><a href="../reference/Collect.html">Collect()</a></code>). In the following example, we are collecting
comments from a YouTube video titled “Australia bushfires - a national
catastrophe | DW News”, which was uploaded by the German Deutsche Welle
news service on 5th January 2020. The comment data were collected on
10th January 2020: the total number of comments at that time was over
1100, but we are using the <code>maxComments</code> parameter to collect
a maximum of 500 top-level comments (and all the reply comments to these
top-level comments).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">videoID</span> <span class="op">&lt;-</span> <span class="st">"https://www.youtube.com/watch?v=pJ_NyEYRkLQ"</span></span>
<span><span class="va">youtubeData</span> <span class="op">&lt;-</span> <span class="va">youtubeAuth</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/Collect.html">Collect</a></span><span class="op">(</span><span class="va">videoID</span>, maxComments <span class="op">=</span> <span class="fl">500</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/Collect.html">Collect()</a></code> function takes the following arguments
(when used for collecting YouTube data): <code>credential</code> (object
generated from <code><a href="../reference/Authenticate.html">Authenticate()</a></code> with class name “youtube”
(above we pass this via the pipe), <code>videoIDs</code> (character
vector specifying one or more youtube video IDs),
<code>maxComments</code> (numeric integer specifying how many top-level
comments to collect from each video), <code>writeToFile</code> (whether
to write the returned dataframe to disk as an <code>.rds</code> file;
default is FALSE), and <code>verbose</code> (whether to output
information about the data collection; default is FALSE).</p>
<p><code><a href="../reference/Collect.html">Collect()</a></code> returns an R dataframe with the following
structure (data have been modified to preserve anonymity):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">str</span>(youtubeData)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>Classes ‘dataource’, ‘youtube’ and <span class="st">'data.frame'</span><span class="sc">:</span>    <span class="dv">603</span> obs. of  <span class="dv">12</span> variables<span class="sc">:</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a> <span class="er">$</span> Comment              <span class="sc">:</span> chr  <span class="st">"xxxxx"</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a> <span class="sc">$</span> AuthorDisplayName    <span class="sc">:</span> chr  <span class="st">"xx"</span> <span class="st">"xx"</span> <span class="st">"xx"</span> <span class="st">"xx"</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a> <span class="sc">$</span> AuthorProfileImageUrl<span class="sc">:</span> chr  <span class="st">"https://xx"</span> <span class="st">"https://xx"</span> <span class="st">"https://xx"</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a> <span class="sc">$</span> AuthorChannelUrl     <span class="sc">:</span> chr  <span class="st">"http://xx"</span> <span class="st">"http://xx"</span> <span class="st">"http://xx"</span> <span class="st">"http://xx"</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a> <span class="sc">$</span> AuthorChannelID      <span class="sc">:</span> chr  <span class="st">"xx"</span> <span class="st">"xx"</span> <span class="st">"xx"</span> <span class="st">"xx"</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a> <span class="sc">$</span> ReplyCount           <span class="sc">:</span> chr  <span class="st">"0"</span> <span class="st">"0"</span> <span class="st">"0"</span> <span class="st">"0"</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a> <span class="sc">$</span> LikeCount            <span class="sc">:</span> chr  <span class="st">"0"</span> <span class="st">"0"</span> <span class="st">"0"</span> <span class="st">"0"</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a> <span class="sc">$</span> PublishedAt          <span class="sc">:</span> chr  <span class="st">"2020-01-10T02:23:43"</span> <span class="st">"2020-01-09T20:56:23"</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>                               <span class="st">"2020-01-09T20:44:00"</span> <span class="st">"2020-01-09T19:31:32"</span> </span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a> <span class="sc">$</span> UpdatedAt            <span class="sc">:</span> chr  <span class="st">"2020-01-10T02:23:43"</span> <span class="st">"2020-01-09T20:56:23"</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>                               <span class="st">"2020-01-09T20:44:00"</span> <span class="st">"2020-01-09T19:31:32"</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a> <span class="sc">$</span> CommentID            <span class="sc">:</span> chr  <span class="st">"xx"</span> <span class="st">"xx"</span> <span class="st">"xx"</span> <span class="st">"xx"</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a> <span class="sc">$</span> ParentID             <span class="sc">:</span> chr  <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a> <span class="sc">$</span> VideoID              <span class="sc">:</span> chr  <span class="st">"pJ_NyLQ"</span> <span class="st">"pJ_NyLQ"</span> <span class="st">"pJ_NyLQ"</span> <span class="st">"pJ_NyLQ"</span></span></code></pre></div>
<div class="section level4">
<h4 id="importing-saved-collection-data-from-file">Importing saved collection data from file<a class="anchor" aria-label="anchor" href="#importing-saved-collection-data-from-file"></a>
</h4>
<p>If you are reading a previously saved <code>writeToFile</code>
YouTube dataframe from disk, you simply need to use the
<code>readRDS</code> function:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read dataframe from file</span></span>
<span><span class="va">youtubeData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"2020-09-26_095354-YoutubeData.rds"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="creating-youtube-networks">Creating YouTube Networks<a class="anchor" aria-label="anchor" href="#creating-youtube-networks"></a>
</h3>
<p>It is currently possible to create two types of networks using
YouTube data: (1) <em>actor network</em> and (2) <em>activity
network</em>.</p>
<div class="section level4">
<h4 id="actor-network">Actor Network<a class="anchor" aria-label="anchor" href="#actor-network"></a>
</h4>
<p>In the YouTube <em>actor network</em> the nodes are users who have
commented on videos (and the videos themselves are included in the
network as special nodes) and the edges are the interactions between
users in the comments. We can distinguish a <em>top-level comment</em>,
which is a comment that is directed to a video from a <em>reply
comment</em>, which is a comment directed to a top-level comment. The
YouTube user interface does not allow a user to direct a reply to
another reply. However, users can achieve the “reply to a reply”
functionality by starting their comment with the username of the person
that they are replying to (and they often prepend the username with
“@”). So there will be an edge from user <em>i</em> to user <em>j</em>
if <em>i</em> replied to a top-level comment authored by <em>j</em> or
else <em>i</em> prepended their comment with <em>j</em>’s username.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actorNetwork</span> <span class="op">&lt;-</span> <span class="va">youtubeData</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">youtubeData</span><span class="op">)</span></span>
<span><span class="va">actorGraph</span> <span class="op">&lt;-</span> <span class="va">actorNetwork</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Graph.html">Graph</a></span><span class="op">(</span>writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><code>Create("actor")</code> returns a named list containing two
dataframes named “nodes” and “edges” (the following has been modified to
preserve anonymity):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="sc">&gt;</span> actorNetwork</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="sc">$</span>nodes</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="co"># A tibble: 522 x 3</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>   id                       screen_name                         node_type</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                               <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a> <span class="dv">1</span> xxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxx                      actor</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a> <span class="dv">2</span> xxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxx                       actor</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>[snip]</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co"># … with 512 more rows</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="sc">$</span>edges</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="co"># A tibble: 604 x 6</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>   from      to       video_id comment_id   edge_type vosonTxt_comment</span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a> <span class="dv">1</span> xxxxxxxx… VIDEOID… pJ_NyEY… xxxxxxxxxxx… comment   <span class="st">"xxxxx"</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a> <span class="dv">2</span> xxxxxxxx… VIDEOID… pJ_NyEY… xxxxxxxxxxx… comment   <span class="st">"xxxxx"</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a>[snip]</span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="co"># … with 594 more rows</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="fu">attr</span>(,<span class="st">"class"</span>)</span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"list"</span>       <span class="st">"network"</span>    <span class="st">"actor"</span>      <span class="st">"youtube"</span>    <span class="st">"voson_text"</span></span></code></pre></div>
<p>Note that in the above, <code><a href="../reference/AddText.html">AddText()</a></code> was used to add the
comment text data to the network dataframe, stored as an edge attribute.
Also, note that there is an optional parameter
<code>replies_from_text</code> that can be passed to
<code><a href="../reference/AddText.html">AddText()</a></code> when used with YouTube network creation, to
extract the “reply to reply” comments.</p>
<p>This list is then passed to <code><a href="../reference/Graph.html">Graph()</a></code>, which returns an
<code>igraph</code> graph object. Remember that it is possible to
achieve the above using a single line of code:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actorGraph</span> <span class="op">&lt;-</span> <span class="va">youtubeData</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">youtubeData</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The following is an an annonymised summary of the <code>igraph</code>
graph object.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="sc">&gt;</span> actorGraph</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>IGRAPH <span class="fl">79e5456</span> DN<span class="sc">--</span> <span class="dv">522</span> <span class="dv">604</span> <span class="sc">--</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="sc">+</span> attr<span class="sc">:</span> <span class="fu">type</span> (g<span class="sc">/</span>c), <span class="fu">name</span> (v<span class="sc">/</span>c), <span class="fu">screen_name</span> (v<span class="sc">/</span>c), <span class="fu">node_type</span> (v<span class="sc">/</span>c),</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="sc">|</span> <span class="fu">label</span> (v<span class="sc">/</span>c), <span class="fu">video_id</span> (e<span class="sc">/</span>c), <span class="fu">comment_id</span> (e<span class="sc">/</span>c), <span class="fu">edge_type</span> (e<span class="sc">/</span>c),</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="sc">|</span> <span class="fu">vosonTxt_comment</span> (e<span class="sc">/</span>c)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="sc">+</span> edges from <span class="fl">79e5456</span> (vertex names)<span class="sc">:</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>[<span class="dv">1</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>[<span class="dv">2</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>[snip]</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="sc">+</span> ... omitted several edges</span></code></pre></div>
<p>The YouTube actor network node contains a graph attribute
<code>type</code> (set to “youtube”). The node attributes are:
<code>name</code> (Channel ID, which is YouTube’s unique user ID),
<code>screen_name</code> (the users displayed name),
<code>node_type</code> (‘actor’ or ‘video’) and <code>label</code> (a
concatenation of the ID and screen name). The edge attributes are:
<code>video_id</code> (the ID of the video for which the data have been
collected), <code>comment_id</code> (the ID of the comment),
<code>edge_type</code> (whether the edge is a ‘comment’ i.e. top-level
comment, ‘reply-comment’ i.e. reply to top-level comment or reply to
reply or ‘self-loop’, which is a special edge connecting the video to
itself, as a means of including text posted with the video). In the
above example, because of our earlier use of <code><a href="../reference/AddText.html">AddText()</a></code>,
there is also an edge attribute <code>vosonTxt_comment</code> which is
the text associated with the comment, reply or video.</p>
<p>The example YouTube actor network contains 522 nodes and 604 edges.
The following indicates that there were 500 top-level comments (we
constrained the collection to this number), 103 replies to top-level
comments (note: we did not use <code><a href="../reference/AddText.html">AddText()</a></code> to collect replies
embedded within the text), and there is the single self-loop from the
video to itself.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">table</span>(<span class="fu">E</span>(actorGraph)<span class="sc">$</span>edge_type)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>   comment reply<span class="sc">-</span>comment     self<span class="sc">-</span>loop</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>       <span class="dv">500</span>           <span class="dv">103</span>             <span class="dv">1</span></span></code></pre></div>
<p>We can visualize this network, using red to identify the video
nodes.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># change color of nodes with type video to red and others grey</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">actorGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span>
<span>  <span class="fu">V</span><span class="op">(</span><span class="va">actorGraph</span><span class="op">)</span><span class="op">$</span><span class="va">node_type</span> <span class="op">==</span> <span class="st">"video"</span>, <span class="st">"red"</span>, <span class="st">"grey"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># open and write plot to a png file</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span><span class="st">"youtube_actor.png"</span>, width <span class="op">=</span> <span class="fl">600</span>, height <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">actorGraph</span>, vertex.label <span class="op">=</span> <span class="st">""</span>, vertex.size <span class="op">=</span> <span class="fl">4</span>, edge.arrow.size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="https://vosonlab.github.io/vosonSML/images/intro-to-vosonsml/youtube_actor.png" alt="YouTube actor network (red node is video)"><div class="figcaption">YouTube actor network (red node is video)</div>
</div>
<p>The following creates a sub-network containing only the replies to
top-level comments. In removing the other edges (top-level comments and
the self-loop) we create a number isolate nodes (nodes with no
connections) that we also remove. We have also used red to indicate the
people who have written comments containing particular terms that have
been present in the online commentary about the bushfires.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># removed edges that are not of type reply-comment</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">delete.edges</span>(</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>  actorGraph, <span class="fu">which</span>(<span class="fu">E</span>(actorGraph)<span class="sc">$</span>edge_type <span class="sc">!=</span> <span class="st">"reply-comment"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>)</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="co"># check number of isolates</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">length</span>(<span class="fu">which</span>(<span class="fu">degree</span>(g2) <span class="sc">==</span> <span class="dv">0</span>))</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">417</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="co"># remove isolates</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">delete.vertices</span>(g2, <span class="fu">which</span>(<span class="fu">degree</span>(g2) <span class="sc">==</span> <span class="dv">0</span>))</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="co"># get node indexes for the tails of edges that have comments containing</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="co"># words of interest change the indexed node colors to red and others grey</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="fu">V</span>(g2)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">"grey"</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a>ind <span class="ot">&lt;-</span> <span class="fu">tail_of</span>(</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a>  actorGraph,</span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a>  <span class="fu">grep</span>(<span class="st">"arson|backburn|climate change"</span>, <span class="fu">tolower</span>(<span class="fu">E</span>(g2)<span class="sc">$</span>vosonTxt_comment))</span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a>)</span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="fu">V</span>(g2)<span class="sc">$</span>color[ind] <span class="ot">&lt;-</span> <span class="st">"red"</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a></span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a><span class="co"># open and write plot to a png file</span></span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a><span class="fu">png</span>(<span class="st">"youtube_actor_reply.png"</span>, <span class="at">width =</span> <span class="dv">600</span>, <span class="at">height =</span> <span class="dv">600</span>)</span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a><span class="fu">plot</span>(g2, <span class="at">vertex.label =</span> <span class="st">""</span>, <span class="at">vertex.size =</span> <span class="dv">4</span>, <span class="at">edge.arrow.size =</span> <span class="fl">0.5</span>)</span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<div class="float">
<img src="https://vosonlab.github.io/vosonSML/images/intro-to-vosonsml/youtube_actor_reply.png" alt="YouTube actor network - only actors sending or receiving replies"><div class="figcaption">YouTube actor network - only actors sending or
receiving replies</div>
</div>
<p>Finally, the <code><a href="../reference/AddVideoData.html">AddVideoData()</a></code> function supplements the
network data with additional video information.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actorNetwork_withVideoInfo</span> <span class="op">&lt;-</span> <span class="va">actorNetwork</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/AddVideoData.html">AddVideoData</a></span><span class="op">(</span><span class="va">youtubeAuth</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/AddVideoData.html">AddVideoData()</a></code> returns a named list containing three
dataframes named “nodes” (identical to the dataframe contained in the
list <code>actorNetwork</code> in the example able), “edges” (this has
three additional columns: “video_title”, “video_description”,
“video_published_at”) and a new dataframe “videos” (the following has
been modified to preserve anonymity):</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="sc">&gt;</span> actorNetwork_withVideoInfo</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="sc">$</span>nodes</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="co"># A tibble: 522 x 3</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>   id                       screen_name                         node_type</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                               <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a> <span class="dv">1</span> xxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxx                       actor</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a> <span class="dv">2</span> xxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxx                       actor</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>[snip]</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="co"># … with 512 more rows</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="sc">$</span>edges</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="co"># A tibble: 604 x 9</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a>   from  to    video_id comment_id edge_type vosonTxt_comment video_title</span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>            <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a> <span class="dv">1</span> xxxx… xxxx… pJ_NyEY… xxxxxxxxx… comment   xxxxxxxxxxxx … Australia …</span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a> <span class="dv">2</span> xxxx… xxxx… pJ_NyEY… xxxxxxxxx… comment   <span class="st">"xxxx"</span>         Australia …</span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a>[snip]</span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="co"># … with 594 more rows, and 2 more variables: video_description &lt;chr&gt;,</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="co">#   video_published_at &lt;chr&gt;</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a><span class="sc">$</span>videos</span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a><span class="co"># A tibble: 1 x 6</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a> VideoID  VideoTitle  VideoDescription VideoPublishedAt ChannelID ChannelTitle</span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a> <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span>            <span class="er">&lt;</span>chr<span class="sc">&gt;</span>            <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb17-25"><a href="#cb17-25" tabindex="-1"></a><span class="dv">1</span> pJ_NyEY… Australia … <span class="st">"As Australia ba… 2020-01-05T12:3… UCknLrEd… DW News</span></span>
<span id="cb17-26"><a href="#cb17-26" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" tabindex="-1"></a><span class="st">attr(,"</span>class<span class="st">")</span></span>
<span id="cb17-28"><a href="#cb17-28" tabindex="-1"></a><span class="st">[1] "</span>list<span class="st">"             "</span>network<span class="st">"          "</span>actor<span class="st">"            "</span>youtube<span class="st">"</span></span>
<span id="cb17-29"><a href="#cb17-29" tabindex="-1"></a><span class="st">[5] "</span>voson_text<span class="st">"       "</span>voson_video_data<span class="st">"</span></span></code></pre></div>
<p>It should also be noted that <code><a href="../reference/AddVideoData.html">AddVideoData()</a></code> can
optionally substitute references to the video ID in the “nodes” and
“edges” dataframes with the video publishers channel ID (this is done by
setting the parameter <code>actorSubOnly</code> to TRUE.</p>
</div>
<div class="section level4">
<h4 id="activity-network">Activity Network<a class="anchor" aria-label="anchor" href="#activity-network"></a>
</h4>
<p>In the YouTube <em>activity network</em>, nodes are either comments
or videos (videos represent a starting comment).</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">activityNetwork</span> <span class="op">&lt;-</span> <span class="va">youtubeData</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">youtubeData</span><span class="op">)</span></span>
<span><span class="va">activityGraph</span> <span class="op">&lt;-</span> <span class="va">activityNetwork</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><code>Create("activity")</code> returns a named list containing two
dataframes named “nodes” and “edges” (the following has been modified to
preserve anonymity).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="sc">&gt;</span> activityNetwork</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="sc">$</span>edges</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="co"># A tibble: 603 x 3</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>   from                       to                  edge_type</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                      <span class="er">&lt;</span>chr<span class="sc">&gt;</span>               <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a> <span class="dv">1</span> xxxxxxxxxxxxxxxxxxxxxxxxxx VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ comment</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a> <span class="dv">2</span> xxxxxxxxxxxxxxxxxxxxxxxxxx VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ comment</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>[snip]</span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a><span class="co"># … with 593 more rows</span></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a><span class="sc">$</span>nodes</span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a><span class="co"># A tibble: 604 x 8</span></span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a>   id    video_id published_at updated_at author_id screen_name node_type</span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a> <span class="dv">1</span> xxxx… pJ_NyEY… <span class="dv">2020-01-10</span>T… <span class="dv">2020-01-1</span>… xxxxxxxx… xxxxxxxxxx… comment</span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a> <span class="dv">2</span> xxxx… pJ_NyEY… <span class="dv">2020-01-09</span>T… <span class="dv">2020-01-0</span>… xxxxxxxx… xxxxxxxxxx… comment</span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a>[snip]</span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a><span class="co"># … with 594 more rows, and 1 more variable: vosonTxt_comment &lt;chr&gt;</span></span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a><span class="fu">attr</span>(,<span class="st">"class"</span>)</span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"list"</span>       <span class="st">"network"</span>    <span class="st">"activity"</span>   <span class="st">"youtube"</span>    <span class="st">"voson_text"</span></span></code></pre></div>
<p>Note that in the above, <code><a href="../reference/AddText.html">AddText()</a></code> was used to add the
comment text data to the network dataframe, stored as a node attribute.
This list is then passed to <code><a href="../reference/Graph.html">Graph()</a></code>, which returns an
<code>igraph</code> graph object (this has been anonymised).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>IGRAPH <span class="dv">02664</span>d1 DN<span class="sc">--</span> <span class="dv">604</span> <span class="dv">603</span> <span class="sc">--</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="sc">+</span> attr<span class="sc">:</span> <span class="fu">type</span> (g<span class="sc">/</span>c), <span class="fu">name</span> (v<span class="sc">/</span>c), <span class="fu">video_id</span> (v<span class="sc">/</span>c), <span class="fu">published_at</span> (v<span class="sc">/</span>c),</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="sc">|</span> <span class="fu">updated_at</span> (v<span class="sc">/</span>c), <span class="fu">author_id</span> (v<span class="sc">/</span>c), <span class="fu">screen_name</span> (v<span class="sc">/</span>c), node_type</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="sc">|</span> (v<span class="sc">/</span>c), <span class="fu">vosonTxt_comment</span> (v<span class="sc">/</span>c), <span class="fu">label</span> (v<span class="sc">/</span>c), <span class="fu">edge_type</span> (e<span class="sc">/</span>c)</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="sc">+</span> edges from <span class="dv">02664</span><span class="fu">d1</span> (vertex names)<span class="sc">:</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>[<span class="dv">1</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>[<span class="dv">2</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>[<span class="dv">3</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a>[<span class="dv">4</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a>[<span class="dv">5</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a>[<span class="dv">6</span>] xxxx<span class="ot">-&gt;</span>VIDEOID<span class="sc">:</span>pJ_NyEYRkLQ</span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="sc">+</span> ... omitted several edges</span></code></pre></div>
<p>The YouTube activity network contains a graph attribute
<code>type</code> (set to “youtube”). The node attributes are:
<code>name</code> (character string ID number for the comment or video),
<code>video_id</code> (character string ID of the video for which the
comments collected - in this example, “pJ_NyEYRkLQ”),
<code>published_at</code> (timestamp of when the comment was published,
this is <code>NA</code> for the video itself), <code>updated_at</code>
(timestamp of when a comment was updated), <code>author_id</code>
(user’s Channel ID), <code>screen_name</code> (user’s display name),
<code>node_type</code> (whether the node is a ‘comment’ i.e. top-level
comment, ‘reply-comment’ i.e. reply to top-level comment or reply to
reply or ‘video’), <code>vosonText_comment</code> (the comment text,
<code>NA</code> for the video), <code>label</code> (concatenation of
<code>name</code> and <code>screen_name</code>). The edge attributes
<code>edge_type</code> which is ‘comment’ for all edges connecting a
top-level comment to the video, and ‘reply-comment’ for all other
edges.</p>
<p>The example YouTube activity network contains 604 nodes and 603
edges. The following is an <code>igraph</code> visualization of the
network, where the video is indicated by a red node, and blue indicates
comments that include one of the following terms: “arson”, “bakcburn”,
“climate change”.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set all video node colors to red and others to grey</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="st">"grey"</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">node_type</span> <span class="op">==</span> <span class="st">"video"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"red"</span></span>
<span></span>
<span><span class="co"># get node indexes of comments that contain terms of interest</span></span>
<span><span class="co"># set their node colors to blue</span></span>
<span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span></span>
<span>  <span class="st">"arson|backburn|climate change"</span>, <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">vosonTxt_comment</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="va">ind</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"blue"</span></span>
<span></span>
<span><span class="co"># open and write plot to a png file</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span><span class="st">"youtube_activity.png"</span>, width <span class="op">=</span> <span class="fl">600</span>, height <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">activityGraph</span>, vertex.label <span class="op">=</span> <span class="st">""</span>, vertex.size <span class="op">=</span> <span class="fl">4</span>, edge.arrow.size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="https://vosonlab.github.io/vosonSML/images/intro-to-vosonsml/youtube_activity.png" alt="YouTube activity network (red node is video, blue nodes are comments mentioning particular terms)"><div class="figcaption">YouTube activity network (red node is video,
blue nodes are comments mentioning particular terms)</div>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="reddit">Reddit<a class="anchor" aria-label="anchor" href="#reddit"></a>
</h2>
<p>The Reddit collection in <code>vosonSML</code> is based on the
approach used in the <a href="https://cran.r-project.org/package=RedditExtractoR" class="external-link">RedditExtractoR</a>
package.</p>
<div class="section level3">
<h3 id="authenticating-with-the-reddit-api">Authenticating with the Reddit API<a class="anchor" aria-label="anchor" href="#authenticating-with-the-reddit-api"></a>
</h3>
<p>The <code>vosonSML</code> does not require Reddit API credentials to
be provided. However, to keep the workflow consistent with the other
data sources, we still need to create a “dummy” access token, using the
<code><a href="../reference/Authenticate.html">Authenticate()</a></code> function (see below).</p>
</div>
<div class="section level3">
<h3 id="collecting-data-from-reddit">Collecting Data from Reddit<a class="anchor" aria-label="anchor" href="#collecting-data-from-reddit"></a>
</h3>
<p>To collect Reddit comment data, first construct a character vector
containing the post URL(s).</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myThreadUrls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.reddit.com/r/xxxxxx/comments/xxxxxx/x_xxxx_xxxxxxxxx/"</span>,</span>
<span>  <span class="st">"https://www.reddit.com/r/xxxxxx/comments/xxxxxx/x_xxxx_xxxxxxxxx/"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This character vector is then passed as an argument to the
<code><a href="../reference/Collect.html">Collect()</a></code> function. In the example below, a post relating
to the politics around the Australian bushfires was used: <a href="https://www.reddit.com/r/worldnews/comments/elcb9b/australias_leaders_deny_link_between_climate/" class="external-link uri">https://www.reddit.com/r/worldnews/comments/elcb9b/australias_leaders_deny_link_between_climate/</a>.
This post was created on 7th January 2020 and by the time of data
collection (10th January), it had attracted over 4000 comments. The
maximum number of comments available for retrieval is 500 per thread or
post.</p>
<p>Reddit has implemented a feature in their latest site re-design to
branch off into new threads, when a thread reaches a breadth (diameter)
of 10 comments. These appear as ‘Continue this thread’ links in thread
discussions on the reddit site, and as new listing markers within the
collected thread data. <code>vosonSML</code> follows these links with
additional thread requests and collects comments from those as well,
capturing a more complete data set, as the limit of 500 comments applies
to each ‘new’ thread.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myThreadUrls</span> <span class="op">&lt;-</span> <span class="st">"https://www.reddit.com/r/worldnews/comments/elcb9b/australias_leaders_deny_link_between_climate/"</span></span>
<span><span class="va">redditData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"reddit"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>              <span class="fu"><a href="../reference/Collect.html">Collect</a></span><span class="op">(</span>threadUrls <span class="op">=</span> <span class="va">myThreadUrls</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/Collect.html">Collect()</a></code> function takes the following arguments
(when used for collecting Reddit data): <code>credential</code> (an
object generated from <code><a href="../reference/Authenticate.html">Authenticate()</a></code> with class name
“reddit” (above we pass this via the pipe), <code>threadUrls</code>
(character vector of Reddit thread urls), <code>waitTime</code> (a
numeric vector giving the time range in seconds to select random wait
url collection requests; default is <code>c(3, 10)</code> i.e. random
wait between 3 and 10 seconds), <code>ua</code> (User-Agent string;
default is <code>option("HTTPUserAgent")</code> as set by vosonSML,
<code>writeToFile</code> (whether to write the returned dataframe to
file as an <code>.rds</code> file; default is FALSE),
<code>verbose</code> (whether to output information about the data
collection; default is TRUE).</p>
<p>The <code><a href="../reference/Collect.html">Collect()</a></code> function returns a <code>tibble</code>
dataframe (this output has been anonymised):</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">str</span>(redditData)</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>Classes ‘tbl_df’, ‘tbl’, ‘datasource’, ‘reddit’ and <span class="st">'data.frame'</span><span class="sc">:</span>   </span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>  <span class="dv">767</span> obs. of  <span class="dv">22</span> variables<span class="sc">:</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a> <span class="er">$</span> id              <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a> <span class="sc">$</span> structure       <span class="sc">:</span> chr  <span class="st">"1"</span> <span class="st">"4_1_1_1_1_1_1_1_1_1"</span> <span class="st">"4_1_1_4_2_1_1_1_1_1"</span> ...</span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a> <span class="sc">$</span> post_date       <span class="sc">:</span> chr  <span class="st">"2020-01-07 14:34:58"</span> <span class="st">"2020-01-07 14:34:58"</span> ...</span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a> <span class="sc">$</span> post_date_unix  <span class="sc">:</span> num  <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> ...</span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a> <span class="sc">$</span> comm_id         <span class="sc">:</span> chr  <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> ...</span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a> <span class="sc">$</span> comm_date       <span class="sc">:</span> chr  <span class="st">"2020-01-07 19:11:10"</span> <span class="st">"2020-01-07 21:04:05"</span> ...</span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a> <span class="sc">$</span> comm_date_unix  <span class="sc">:</span> num  <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> <span class="fl">1.58e+09</span> ...</span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a> <span class="sc">$</span> num_comments    <span class="sc">:</span> int  <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> <span class="dv">4435</span> ...</span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a> <span class="sc">$</span> subreddit       <span class="sc">:</span> chr  <span class="st">"worldnews"</span> <span class="st">"worldnews"</span> <span class="st">"worldnews"</span> <span class="st">"worldnews"</span> ...</span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a> <span class="sc">$</span> upvote_prop     <span class="sc">:</span> num  <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> <span class="fl">0.91</span> ...</span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a> <span class="sc">$</span> post_score      <span class="sc">:</span> int  <span class="dv">45714</span> <span class="dv">45714</span> <span class="dv">45714</span> <span class="dv">45712</span> <span class="dv">45714</span> <span class="dv">45710</span> <span class="dv">45720</span> <span class="dv">45712</span> ..</span>
<span id="cb24-15"><a href="#cb24-15" tabindex="-1"></a> <span class="sc">$</span> author          <span class="sc">:</span> chr  <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> ...</span>
<span id="cb24-16"><a href="#cb24-16" tabindex="-1"></a> <span class="sc">$</span> user            <span class="sc">:</span> chr  <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> <span class="st">"xxxx"</span> ...</span>
<span id="cb24-17"><a href="#cb24-17" tabindex="-1"></a> <span class="sc">$</span> comment_score   <span class="sc">:</span> int  <span class="dv">1904</span> <span class="dv">136</span> <span class="dv">17</span> <span class="dv">13</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">125</span> <span class="dv">4</span> <span class="dv">6</span> <span class="dv">12</span> ...</span>
<span id="cb24-18"><a href="#cb24-18" tabindex="-1"></a> <span class="sc">$</span> controversiality<span class="sc">:</span> int  <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> ...</span>
<span id="cb24-19"><a href="#cb24-19" tabindex="-1"></a> <span class="sc">$</span> comment         <span class="sc">:</span> chr  <span class="st">"xxxx...</span></span>
<span id="cb24-20"><a href="#cb24-20" tabindex="-1"></a><span class="st"> $ title           : chr  "</span>Australia’s leaders deny link between climate change and the country’s devastating bushfires<span class="st">" "</span>Australia’s leaders deny link between climate change and the country’s devastating bushfires<span class="st">" "</span>Australia’s leaders deny link between climate change and the country’s devastating bushfires<span class="st">" "</span>Australia’s leaders deny link between climate change and the country’s devastating bushfires<span class="st">" ...</span></span>
<span id="cb24-21"><a href="#cb24-21" tabindex="-1"></a><span class="st"> $ post_text       : chr  "" "" "" "" ...</span></span>
<span id="cb24-22"><a href="#cb24-22" tabindex="-1"></a><span class="st"> $ link            : chr  "</span>https<span class="sc">:</span><span class="er">//</span>www.theglobeandmail.com<span class="sc">/</span>world<span class="sc">/</span>article<span class="sc">-</span>australias<span class="sc">-</span>leaders<span class="sc">-</span>unmoved<span class="sc">-</span>on<span class="sc">-</span>climate<span class="sc">-</span>action<span class="sc">-</span>after<span class="sc">-</span>devastating<span class="dv">-2</span><span class="sc">/</span><span class="st">" "</span>https<span class="sc">:</span><span class="er">//</span>www.theglobeandmail.com<span class="sc">/</span>world<span class="sc">/</span>article<span class="sc">-</span>australias<span class="sc">-</span>leaders<span class="sc">-</span>unmoved<span class="sc">-</span>on<span class="sc">-</span>climate<span class="sc">-</span>action<span class="sc">-</span>after<span class="sc">-</span>devastating<span class="dv">-2</span><span class="sc">/</span><span class="st">" "</span>https<span class="sc">:</span><span class="er">//</span>www.theglobeandmail.com<span class="sc">/</span>world<span class="sc">/</span>article<span class="sc">-</span>australias<span class="sc">-</span>leaders<span class="sc">-</span>unmoved<span class="sc">-</span>on<span class="sc">-</span>climate<span class="sc">-</span>action<span class="sc">-</span>after<span class="sc">-</span>devastating<span class="dv">-2</span><span class="sc">/</span><span class="st">" "</span>https<span class="sc">:</span><span class="er">//</span>www.theglobeandmail.com<span class="sc">/</span>world<span class="sc">/</span>article<span class="sc">-</span>australias<span class="sc">-</span>leaders<span class="sc">-</span>unmoved<span class="sc">-</span>on<span class="sc">-</span>climate<span class="sc">-</span>action<span class="sc">-</span>after<span class="sc">-</span>devastating<span class="dv">-2</span><span class="sc">/</span><span class="st">" ...</span></span>
<span id="cb24-23"><a href="#cb24-23" tabindex="-1"></a><span class="st"> $ domain          : chr  "</span>theglobeandmail.com<span class="st">" "</span>theglobeandmail.com<span class="st">" "</span>theglobeandmail.com<span class="st">" "</span>theglobeandmail.com<span class="st">" ...</span></span>
<span id="cb24-24"><a href="#cb24-24" tabindex="-1"></a><span class="st"> $ url             : chr  "</span>https<span class="sc">:</span><span class="er">//</span>www.reddit.com<span class="sc">/</span>r<span class="sc">/</span>worldnews<span class="sc">/</span>comments<span class="sc">/</span>elcb9b<span class="sc">/</span>australias_leaders_deny_link_between_climate<span class="sc">/</span><span class="st">" "</span>https<span class="sc">:</span><span class="er">//</span>www.reddit.com<span class="sc">/</span>r<span class="sc">/</span>worldnews<span class="sc">/</span>comments<span class="sc">/</span>elcb9b<span class="sc">/</span>australias_leaders_deny_link_between_climate<span class="sc">/</span><span class="st">" "</span>https<span class="sc">:</span><span class="er">//</span>www.reddit.com<span class="sc">/</span>r<span class="sc">/</span>worldnews<span class="sc">/</span>comments<span class="sc">/</span>elcb9b<span class="sc">/</span>australias_leaders_deny_link_between_climate<span class="sc">/</span><span class="st">" "</span>https<span class="sc">:</span><span class="er">//</span>www.reddit.com<span class="sc">/</span>r<span class="sc">/</span>worldnews<span class="sc">/</span>comments<span class="sc">/</span>elcb9b<span class="sc">/</span>australias_leaders_deny_link_between_climate<span class="sc">/</span><span class="st">" ...</span></span>
<span id="cb24-25"><a href="#cb24-25" tabindex="-1"></a><span class="st"> $ thread_id       : chr  "</span>elcb9b<span class="st">" "</span>elcb9b<span class="st">" "</span>elcb9b<span class="st">" "</span>elcb9b<span class="st">" ...</span></span></code></pre></div>
<div class="section level4">
<h4 id="importing-saved-collection-data-from-file-1">Importing saved collection data from file<a class="anchor" aria-label="anchor" href="#importing-saved-collection-data-from-file-1"></a>
</h4>
<p>If you are reading a previously saved <code>writeToFile</code> Reddit
dataframe from disk, you simply need to use the <code>readRDS</code>
function.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">redditData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"2020-09-26_095354-RedditData.rds"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="creating-reddit-networks">Creating Reddit Networks<a class="anchor" aria-label="anchor" href="#creating-reddit-networks"></a>
</h3>
<p>It is currently possible to create two types of networks using Reddit
data: (1) <em>actor network</em> and (2) <em>activity network</em>.</p>
<div class="section level4">
<h4 id="actor-network-1">Actor Network<a class="anchor" aria-label="anchor" href="#actor-network-1"></a>
</h4>
<p>In the Reddit <em>actor network</em>, nodes represent users who have
posted original posts and comments and the edges are the interactions
between users in the comments i.e. where there is an edge from user
<em>i</em> to user <em>j</em> if <em>i</em> writes a comment that
replies to user <em>j</em>’s comment (or the original post).</p>
<p>The following creates a Reddit <em>actor network</em> with comment
text as an edge attribute (as above, this can be achieved in a single
line of code, but we split it into two lines to better explain the
objects that are created).</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actorNetwork</span> <span class="op">&lt;-</span> <span class="va">redditData</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">redditData</span><span class="op">)</span></span>
<span><span class="va">actorGraph</span> <span class="op">&lt;-</span> <span class="va">actorNetwork</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Graph.html">Graph</a></span><span class="op">(</span>writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><code>Create("actor")</code> returns a named list containing two
dataframes named “nodes” and “edges” (the following has been modified to
preserve anonymity):</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="sc">&gt;</span> actorNetwork</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="sc">$</span>nodes</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="co"># A tibble: 439 x 2</span></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>      id user</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>   <span class="sc">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a> <span class="dv">1</span>     <span class="dv">1</span> xxxxxxxxxx</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a> <span class="dv">2</span>     <span class="dv">2</span> xxxxxxxxxxxxxx</span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>[snip]</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a><span class="co"># … with 429 more rows</span></span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a><span class="sc">$</span>edges</span>
<span id="cb27-12"><a href="#cb27-12" tabindex="-1"></a><span class="co"># A tibble: 768 x 8</span></span>
<span id="cb27-13"><a href="#cb27-13" tabindex="-1"></a>    from    to subreddit thread_id comment_id comm_id vosonTxt_comment   title</span>
<span id="cb27-14"><a href="#cb27-14" tabindex="-1"></a>   <span class="sc">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb27-15"><a href="#cb27-15" tabindex="-1"></a> <span class="dv">1</span>     <span class="dv">1</span>   <span class="dv">439</span> worldnews elcb9b           <span class="dv">1</span> xxxxxxx <span class="st">"xxxxxxxxxxxxxxxxxxx NA</span></span>
<span id="cb27-16"><a href="#cb27-16" tabindex="-1"></a><span class="st"> 2     2    73 worldnews elcb9b           2 xxxxxxx "</span>xxxxxxxxxxxxxxxxxxx <span class="cn">NA</span></span>
<span id="cb27-17"><a href="#cb27-17" tabindex="-1"></a>[snip]</span>
<span id="cb27-18"><a href="#cb27-18" tabindex="-1"></a>… with <span class="dv">758</span> more rows</span>
<span id="cb27-19"><a href="#cb27-19" tabindex="-1"></a></span>
<span id="cb27-20"><a href="#cb27-20" tabindex="-1"></a><span class="fu">attr</span>(,<span class="st">"class"</span>)</span>
<span id="cb27-21"><a href="#cb27-21" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"list"</span>       <span class="st">"network"</span>    <span class="st">"actor"</span>      <span class="st">"reddit"</span>     <span class="st">"voson_text"</span></span></code></pre></div>
<p>Note that in the above, <code><a href="../reference/AddText.html">AddText()</a></code> was used to add the
comment text data to the network dataframe, stored as an edge attribute.
This list is then passed to <code><a href="../reference/Graph.html">Graph()</a></code>, which returns an
<code>igraph</code> graph object.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="sc">&gt;</span> actorGraph</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>IGRAPH <span class="dv">5</span>a5d5b9 DN<span class="sc">--</span> <span class="dv">439</span> <span class="dv">768</span> <span class="sc">--</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="sc">+</span> attr<span class="sc">:</span> <span class="fu">type</span> (g<span class="sc">/</span>c), <span class="fu">name</span> (v<span class="sc">/</span>c), <span class="fu">user</span> (v<span class="sc">/</span>c), <span class="fu">label</span> (v<span class="sc">/</span>c), subreddit</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="sc">|</span> (e<span class="sc">/</span>c), <span class="fu">thread_id</span> (e<span class="sc">/</span>c), <span class="fu">comment_id</span> (e<span class="sc">/</span>n), <span class="fu">comm_id</span> (e<span class="sc">/</span>c),</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="sc">|</span> <span class="fu">vosonTxt_comment</span> (e<span class="sc">/</span>c), <span class="fu">title</span> (e<span class="sc">/</span>c)</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="sc">+</span> edges from <span class="dv">5</span><span class="fu">a5d5b9</span> (vertex names)<span class="sc">:</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">1</span> <span class="ot">-&gt;</span><span class="dv">439</span> <span class="dv">2</span> <span class="ot">-&gt;</span><span class="dv">73</span>  <span class="dv">3</span> <span class="ot">-&gt;</span><span class="dv">113</span> <span class="dv">4</span> <span class="ot">-&gt;</span><span class="dv">120</span> <span class="dv">5</span> <span class="ot">-&gt;</span><span class="dv">120</span> <span class="dv">6</span> <span class="ot">-&gt;</span><span class="dv">17</span>  <span class="dv">7</span> <span class="ot">-&gt;</span><span class="dv">194</span> <span class="dv">8</span> <span class="ot">-&gt;</span><span class="dv">20</span>  <span class="dv">9</span> <span class="ot">-&gt;</span><span class="dv">20</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a>[<span class="dv">10</span>] <span class="dv">10</span><span class="ot">-&gt;</span><span class="dv">165</span> <span class="dv">11</span><span class="ot">-&gt;</span><span class="dv">165</span> <span class="dv">12</span><span class="ot">-&gt;</span><span class="dv">1</span>   <span class="dv">13</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">14</span><span class="ot">-&gt;</span><span class="dv">3</span>   <span class="dv">15</span><span class="ot">-&gt;</span><span class="dv">4</span>   <span class="dv">16</span><span class="ot">-&gt;</span><span class="dv">5</span>   <span class="dv">17</span><span class="ot">-&gt;</span><span class="dv">6</span>   <span class="dv">18</span><span class="ot">-&gt;</span><span class="dv">7</span></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a>[<span class="dv">19</span>] <span class="dv">19</span><span class="ot">-&gt;</span><span class="dv">8</span>   <span class="dv">20</span><span class="ot">-&gt;</span><span class="dv">9</span>   <span class="dv">21</span><span class="ot">-&gt;</span><span class="dv">10</span>  <span class="dv">22</span><span class="ot">-&gt;</span><span class="dv">11</span>  <span class="dv">23</span><span class="ot">-&gt;</span><span class="dv">12</span>  <span class="dv">2</span> <span class="ot">-&gt;</span><span class="dv">13</span>  <span class="dv">24</span><span class="ot">-&gt;</span><span class="dv">3</span>   <span class="dv">7</span> <span class="ot">-&gt;</span><span class="dv">18</span>  <span class="dv">25</span><span class="ot">-&gt;</span><span class="dv">23</span></span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a>[<span class="dv">28</span>] <span class="dv">26</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">3</span> <span class="ot">-&gt;</span><span class="dv">24</span>  <span class="dv">27</span><span class="ot">-&gt;</span><span class="dv">18</span>  <span class="dv">28</span><span class="ot">-&gt;</span><span class="dv">1</span>   <span class="dv">29</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">18</span><span class="ot">-&gt;</span><span class="dv">27</span>  <span class="dv">1</span> <span class="ot">-&gt;</span><span class="dv">28</span>  <span class="dv">30</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">31</span><span class="ot">-&gt;</span><span class="dv">7</span></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a>[<span class="dv">37</span>] <span class="dv">25</span><span class="ot">-&gt;</span><span class="dv">1</span>   <span class="dv">32</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">33</span><span class="ot">-&gt;</span><span class="dv">31</span>  <span class="dv">34</span><span class="ot">-&gt;</span><span class="dv">1</span>   <span class="dv">2</span> <span class="ot">-&gt;</span><span class="dv">32</span>  <span class="dv">35</span><span class="ot">-&gt;</span><span class="dv">7</span>   <span class="dv">25</span><span class="ot">-&gt;</span><span class="dv">34</span>  <span class="dv">36</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">7</span> <span class="ot">-&gt;</span><span class="dv">35</span></span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a>[<span class="dv">46</span>] <span class="dv">37</span><span class="ot">-&gt;</span><span class="dv">1</span>   <span class="dv">38</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">39</span><span class="ot">-&gt;</span><span class="dv">7</span>   <span class="dv">40</span><span class="ot">-&gt;</span><span class="dv">1</span>   <span class="dv">41</span><span class="ot">-&gt;</span><span class="dv">2</span>   <span class="dv">42</span><span class="ot">-&gt;</span><span class="dv">7</span>   <span class="dv">43</span><span class="ot">-&gt;</span><span class="dv">1</span>   <span class="dv">2</span> <span class="ot">-&gt;</span><span class="dv">41</span>  <span class="dv">44</span><span class="ot">-&gt;</span><span class="dv">7</span></span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a><span class="sc">+</span> ... omitted several edges</span></code></pre></div>
<p>The Reddit actor network contains a graph attribute <code>type</code>
(set to “reddit”). The node attributes are: <code>name</code>
(sequential ID number for actor, generated by <code>vosonSML</code>),
<code>user</code> (Reddit handle or screen name)) and <code>label</code>
(a concatenation of the ID and screen name). The edge attributes are:
<code>subreddit</code> (the subreddit from which the post is collected),
<code>thread_id</code> (the 6 character ID of the thread or post),
<code>comment_id</code> (sequential ID number for comment, generated by
<code>vosonSML</code>). There is also an edge attribute
<code>title</code>, which is set to <code>NA</code> for all comments
except the comment representing the original post. Further note that the
original post is represented as a self-loop edge from the user who
authored the post (and this is how the post text can be accessed, as an
edge attribute), however with the Reddit actor network, there is no
<code>edge_type</code> attribute. Finally, because we used
<code><a href="../reference/AddText.html">AddText()</a></code> in the above example, there is also an edge
attribute <code>vosonTxt_comment</code> which is the text associated
with the comment, or original post.</p>
<p>The example Reddit actor network contains 439 nodes and 768 edges.
The following is a visualization of the actor network, where the author
of the post is indicated by a red node, and blue nodes indicate those
people who mentioned “arson” or “starting fires” in at least one of
their comments.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set node color of original post to red based on presence of title edge</span></span>
<span><span class="co"># attribute set other node colors to grey</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">actorGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="st">"grey"</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">actorGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="fu">tail_of</span><span class="op">(</span></span>
<span>  <span class="va">actorGraph</span>, <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="fu">E</span><span class="op">(</span><span class="va">actorGraph</span><span class="op">)</span><span class="op">$</span><span class="va">title</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"red"</span></span>
<span></span>
<span><span class="co"># get node indexes for the tails of edges that have comments containing</span></span>
<span><span class="co"># words of interest set their node colors to blue</span></span>
<span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu">tail_of</span><span class="op">(</span></span>
<span>  <span class="va">actorGraph</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"arson|starting fires"</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="fu">E</span><span class="op">(</span><span class="va">actorGraph</span><span class="op">)</span><span class="op">$</span><span class="va">vosonTxt_comment</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">actorGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="va">ind</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"blue"</span></span>
<span></span>
<span><span class="co"># open and write plot to a png file</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span><span class="st">"reddit_actor.png"</span>, width <span class="op">=</span> <span class="fl">600</span>, height <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">actorGraph</span>, vertex.label <span class="op">=</span> <span class="st">""</span>, vertex.size <span class="op">=</span> <span class="fl">4</span>, edge.arrow.size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="https://vosonlab.github.io/vosonSML/images/intro-to-vosonsml/reddit_actor.png" alt="Reddit actor network (red node is author of post, blue nodes are users who mentioned arson)"><div class="figcaption">Reddit actor network (red node is author of
post, blue nodes are users who mentioned arson)</div>
</div>
</div>
<div class="section level4">
<h4 id="activity-network-1">Activity Network<a class="anchor" aria-label="anchor" href="#activity-network-1"></a>
</h4>
<p>In the Reddit <em>activity network</em>, nodes are either comments
and/or initial thread posts and the edges represent replies to the
original post, or replies to comments.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">activityNetwork</span> <span class="op">&lt;-</span> <span class="va">redditData</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">redditData</span><span class="op">)</span></span>
<span><span class="va">activityGraph</span> <span class="op">&lt;-</span> <span class="va">activityNetwork</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/Graph.html">Graph</a></span><span class="op">(</span>writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><code>Create("activity")</code> returns a named list containing two
dataframes named “nodes” and “edges” (the following has been modified to
preserve anonymity):</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="sc">&gt;</span> activityNetwork</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="sc">$</span>nodes</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="co"># A tibble: 768 x 10</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>   id    thread_id comm_id datetime     ts subreddit user  node_type</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a> <span class="dv">1</span> elcb… elcb9b    xxxxxxx <span class="dv">2020-01</span>… <span class="fl">1.58e9</span> worldnews xxxx… comment</span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a> <span class="dv">2</span> elcb… elcb9b    xxxxxxx <span class="dv">2020-01</span>… <span class="fl">1.58e9</span> worldnews xxxx… comment</span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a>[snip]</span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a><span class="co"># … with 758 more rows, and 2 more variables: vosonTxt_comment &lt;chr&gt;,</span></span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="co">#   title &lt;chr&gt;</span></span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" tabindex="-1"></a><span class="sc">$</span>edges</span>
<span id="cb31-13"><a href="#cb31-13" tabindex="-1"></a><span class="co"># A tibble: 767 x 3</span></span>
<span id="cb31-14"><a href="#cb31-14" tabindex="-1"></a>   from                       to                       edge_type</span>
<span id="cb31-15"><a href="#cb31-15" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                      <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                    <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb31-16"><a href="#cb31-16" tabindex="-1"></a> <span class="dv">1</span> elcb9b<span class="fl">.1</span>                   elcb9b<span class="fl">.0</span>                 comment</span>
<span id="cb31-17"><a href="#cb31-17" tabindex="-1"></a> <span class="dv">2</span> elcb9b<span class="fl">.4</span>_1_1_1_1_1_1_1_1_1 elcb9b<span class="fl">.4</span>_1_1_1_1_1_1_1_1 comment</span>
<span id="cb31-18"><a href="#cb31-18" tabindex="-1"></a>[snip]</span>
<span id="cb31-19"><a href="#cb31-19" tabindex="-1"></a><span class="co"># … with 757 more rows</span></span>
<span id="cb31-20"><a href="#cb31-20" tabindex="-1"></a></span>
<span id="cb31-21"><a href="#cb31-21" tabindex="-1"></a><span class="fu">attr</span>(,<span class="st">"class"</span>)</span>
<span id="cb31-22"><a href="#cb31-22" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"list"</span>       <span class="st">"network"</span>    <span class="st">"activity"</span>   <span class="st">"reddit"</span>     <span class="st">"voson_text"</span></span></code></pre></div>
<p>Note that in the above, <code><a href="../reference/AddText.html">AddText()</a></code> was used to add the
comment text data to the network dataframe, stored as a node attribute.
This list is then passed to <code><a href="../reference/Graph.html">Graph()</a></code>, which returns an
<code>igraph</code> graph object.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="sc">&gt;</span> activityGraph</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>IGRAPH <span class="fl">09e30</span>ea DN<span class="sc">--</span> <span class="dv">768</span> <span class="dv">767</span> <span class="sc">--</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="sc">+</span> attr<span class="sc">:</span> <span class="fu">type</span> (g<span class="sc">/</span>c), <span class="fu">name</span> (v<span class="sc">/</span>c), <span class="fu">thread_id</span> (v<span class="sc">/</span>c), <span class="fu">comm_id</span> (v<span class="sc">/</span>c),</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="sc">|</span> <span class="fu">datetime</span> (v<span class="sc">/</span>c), <span class="fu">ts</span> (v<span class="sc">/</span>n), <span class="fu">subreddit</span> (v<span class="sc">/</span>c), <span class="fu">user</span> (v<span class="sc">/</span>c), node_type</span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="sc">|</span> (v<span class="sc">/</span>c), <span class="fu">vosonTxt_comment</span> (v<span class="sc">/</span>c), <span class="fu">title</span> (v<span class="sc">/</span>c), <span class="fu">label</span> (v<span class="sc">/</span>c), edge_type</span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="sc">|</span> (e<span class="sc">/</span>c)</span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a><span class="sc">+</span> edges from <span class="fl">09e30</span><span class="fu">ea</span> (vertex names)<span class="sc">:</span></span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a>[<span class="dv">1</span>] elcb9b<span class="fl">.1</span>                  <span class="ot">-&gt;</span>elcb9b<span class="fl">.0</span></span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a>[<span class="dv">2</span>] elcb9b<span class="fl">.4</span>_1_1_1_1_1_1_1_1_1<span class="ot">-&gt;</span>elcb9b<span class="fl">.4</span>_1_1_1_1_1_1_1_1</span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a>[<span class="dv">3</span>] elcb9b<span class="fl">.4</span>_1_1_4_2_1_1_1_1_1<span class="ot">-&gt;</span>elcb9b<span class="fl">.4</span>_1_1_4_2_1_1_1_1</span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a>[<span class="dv">4</span>] elcb9b<span class="fl">.4</span>_1_1_4_3_1_1_1_3_1<span class="ot">-&gt;</span>elcb9b<span class="fl">.4</span>_1_1_4_3_1_1_1_3</span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a>[<span class="dv">5</span>] elcb9b<span class="fl">.4</span>_1_1_4_3_1_1_1_3_2<span class="ot">-&gt;</span>elcb9b<span class="fl">.4</span>_1_1_4_3_1_1_1_3</span>
<span id="cb32-13"><a href="#cb32-13" tabindex="-1"></a><span class="sc">+</span> ... omitted several edges</span></code></pre></div>
<p>The Reddit activity network contains a graph attribute
<code>type</code> (set to “reddit”). The node attributes are:
<code>name</code> (string showing position of the comment in the
thread), <code>date</code> (date when the comment was authored, in
DD-MM-YY format), <code>subreddit</code> (the subreddit from which the
post is collected), <code>user</code> (Reddit handle or screen name of
the user who authored the comment or post), <code>node_type</code>
(‘comment’ or ‘thread’), <code>title</code> (<code>NA</code> for all
nodes except that representing the original post), <code>label</code> (a
concatenation of <code>name</code> and <code>user</code>). Because we
used <code><a href="../reference/AddText.html">AddText()</a></code> in the above example, there is also a node
attribute <code>vosonTxt_comment</code> which is the text from the
comment, or original post. The edge attributes is <code>edge_type</code>
which is ‘comment’ for all edges.</p>
<p>The example Reddit activity network contains 768 nodes and 767 edges.
The following is a visualisation of the network, where the post is
indicated by a red node, and blue indicates those comments that include
the words “arson” or “starting fires”.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set original post node colors to red based on a node type of thread</span></span>
<span><span class="co"># set other node colors to grey</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="st">"grey"</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">node_type</span> <span class="op">==</span> <span class="st">"thread"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"red"</span></span>
<span></span>
<span><span class="co"># get node indexes for nodes that have comment attributes containing words of interest</span></span>
<span><span class="co"># set their node colors to blue</span></span>
<span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"arson|starting fires"</span>, <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">vosonTxt_comment</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">V</span><span class="op">(</span><span class="va">activityGraph</span><span class="op">)</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="va">ind</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"blue"</span></span>
<span></span>
<span><span class="co"># open and write plot to a png file</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span><span class="st">"reddit_activity.png"</span>, width <span class="op">=</span> <span class="fl">600</span>, height <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">activityGraph</span>, vertex.label <span class="op">=</span> <span class="st">""</span>, vertex.size <span class="op">=</span> <span class="fl">4</span>, edge.arrow.size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="https://vosonlab.github.io/vosonSML/images/intro-to-vosonsml/reddit_activity.png" alt="Reddit activity network (red node is intial post, blue nodes are comments mentioning arson)"><div class="figcaption">Reddit activity network (red node is intial
post, blue nodes are comments mentioning arson)</div>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="merging-collected-data">Merging Collected Data<a class="anchor" aria-label="anchor" href="#merging-collected-data"></a>
</h2>
<p>Data that was collected at different times, used different collect
parameters or was saved to multiple files can be merged by using
functions that operate on dataframes. The data from <code>Collect</code>
is output in <code>tibble</code> (dataframe) format and provided each
collected data set are from the same social media type can be combined
using the <code>rbind</code> function.</p>
<p>In the examples below or cases that involve large datasets, it can
sometimes be more efficient or timely to substitute optimized functions
such as <code><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">dplyr::bind_rows</a></code> for <code>rbind</code> or
<code><a href="https://rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">data.table::rbindlist</a></code> instead of
<code>do.call("rbind", list)</code>.</p>
<div class="section level3">
<h3 id="merging-from-multiple-collect-operations">Merging from multiple Collect operations<a class="anchor" aria-label="anchor" href="#merging-from-multiple-collect-operations"></a>
</h3>
<p>Data collected in the same session can be merged using the
<code>Merge</code> function.</p>
</div>
<div class="section level3">
<h3 id="merging-files-in-a-directory">Merging files in a directory<a class="anchor" aria-label="anchor" href="#merging-files-in-a-directory"></a>
</h3>
<p>If there are many data collections to be merged from file
<code>vosonSML</code> has a <code>MergeFiles</code> function.</p>
</div>
<div class="section level3">
<h3 id="creating-a-network-and-graph-from-merged-data">Creating a network and graph from merged data<a class="anchor" aria-label="anchor" href="#creating-a-network-and-graph-from-merged-data"></a>
</h3>
<p>Once the data is merged then it can then simply be passed to the
<code>Create</code> function to create a network as per the usual
<code>vosonSML</code> work flow.</p>
</div>
</div>
<div class="section level2">
<h2 id="voson-dashboard">VOSON Dashboard<a class="anchor" aria-label="anchor" href="#voson-dashboard"></a>
</h2>
<p>It is possible to import a network created using
<code>vosonSML</code>, and saved as a “.graphml” file, into
<code>VOSON Dashboard</code>. However, if you have created a categorical
node attribute in the network and wish to plot networks in
<code>VOSON Dashboard</code> with node colour reflecting the node
attribute, then the node attribute name has to be pre-pended with
“vosonCA_”. This let’s <code>VOSON Dashboard</code> know the attribute
is to be treated as categorical.</p>
<p>The following network is a Twitter subnetwork, specifically the giant
component in a reply network, with red nodes indicating those users who
tweeted using the word “bushfire”. It was accomplished by creating a
node attribute “tweetedBushfires”. For <code>VOSON Dashboard</code> to
recognise this node attribute, it has to be named
“vosonCA_tweetedBushfires”. The following code creates a new node
attribute with this name, and sames the network as a graphml file:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">V</span><span class="op">(</span><span class="va">g3</span><span class="op">)</span><span class="op">$</span><span class="va">vosonCA_tweetedBushfires</span> <span class="op">&lt;-</span> <span class="fu">V</span><span class="op">(</span><span class="va">g3</span><span class="op">)</span><span class="op">$</span><span class="va">tweetedBushfires</span></span>
<span><span class="fu">write.graph</span><span class="op">(</span><span class="va">g3</span>, <span class="st">"g3.graphml"</span>, format <span class="op">=</span> <span class="st">"graphml"</span><span class="op">)</span></span></code></pre></div>
<p>The following shows a screenshot of <code>VOSON Dashboard</code> with
this network loaded and the “tweetedBushfires” attribute has been
seleced to be reflected in the node colour.</p>
<div class="float">
<img src="https://vosonlab.github.io/vosonSML/images/intro-to-vosonsml/voson_dashboard.png" alt="VOSON Dashboard with Twitter network of users who tweeted using the word “bushfire”"><div class="figcaption">VOSON Dashboard with Twitter network of users
who tweeted using the word “bushfire”</div>
</div>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p><code>vosonSML</code> and <code>VOSON Dashboard</code> are developed
and maintained at the <a href="http://vosonlab.net/" class="external-link">Virtual Observatory
for the Study of Online Networks (VOSON) Lab</a> at the Australian
National University.</p>
<p><code>vosonSML</code> was originally released on CRAN in November
2015 as the package <code>SocialMediaLab</code> (Timothy Graham was the
lead developer), with the significantly revised and renamed
<code>vosonSML</code> being released on CRAN in July 2018 (Bryan Gertzel
is the lead developer).</p>
<p>We acknowledge the contributions of Chung-hong Chan who implemented a
revised UI (involving <code>magrittr</code> pipes) in the original
<code>SocialMediaLab</code> package and Xiaolan Cai who has contributed
to documentation.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://vosonlab.net" class="external-link"><span>VOSON Lab</span></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
