<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>vosonSML - Social Media Lab • vosonSML</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="vosonSML - Social Media Lab">
<meta name="description" content="Collect social media data and generate networks for analysis.">
<meta property="og:description" content="Collect social media data and generate networks for analysis.">
<meta property="og:image" content="https://vosonlab.github.io/vosonSML/images/logo.png">
<meta property="og:image:alt" content="vosonSML - Social Media Lab">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@vosonlab">
<meta name="twitter:site" content="@vosonlab">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">vosonSML</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.35.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="index.html" aria-label="Home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html"><span class="fa fa-newspaper"></span> Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html"><span class="fa fa-cubes fa-lg"></span> Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/Intro-to-vosonSML.html"><span class="fa far fa-file-alt"></span> Introduction to vosonSML</a></li>
    <li><a class="external-link dropdown-item" href="https://vosonlab.github.io/posts/2021-03-15-hyperlink-networks-with-vosonsml"><span class="fa far fa-file-alt"></span> Hyperlink Networks with vosonSML</a></li>
    <li><a class="external-link dropdown-item" href="https://vosonlab.github.io/posts/2022-06-05-egocentric-networks-from-twitter-timelines"><span class="fa far fa-file-alt"></span> Egocentric Networks from Twitter timelines</a></li>
    <li><a class="external-link dropdown-item" href="https://vosonlab.github.io/posts/2021-10-01-testing-bot-status-of-twitter-users"><span class="fa far fa-file-alt"></span> Testing the bot status of users in Twitter networks collected via vosonSML</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://vosonlab.net/" aria-label="VOSON Lab Web Site"><span class="fa fa-flask fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://x.com/vosonlab" aria-label="VOSON Lab on X"><span class="fa fab fa-twitter-square fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vosonlab/vosonSML" aria-label="vosonSML Package on Github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="vosonsml---social-media-lab">vosonSML - Social Media Lab<img src="https://vosonlab.github.io/vosonSML/images/logo.png" alt="vosonSML logo" width="140px" align="right"><a class="anchor" aria-label="anchor" href="#vosonsml---social-media-lab"></a>
</h1></div>
<p><a href="https://github.com/vosonlab/vosonSML" class="external-link"><img src="https://img.shields.io/static/v1?label=dev&amp;message=v0.35.1&amp;logo=github" alt="Github_Dev"></a> <a href="https://github.com/vosonlab/vosonSML/commits/master" class="external-link"><img src="https://img.shields.io/github/last-commit/vosonlab/vosonSML.svg?&amp;logo=github" alt="Last_Commit"></a> <a href="https://github.com/vosonlab/vosonSML/actions" class="external-link"><img src="https://github.com/vosonlab/vosonSML/workflows/R-CMD-check/badge.svg" alt="Build_Status"></a> <a href="https://CRAN.R-project.org/package=vosonSML" class="external-link"><img src="https://www.r-pkg.org/badges/version/vosonSML" alt="CRAN_Status_Badge"></a> <a href="https://CRAN.R-project.org/package=vosonSML" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/vosonSML" alt="CRAN_Monthly"></a> <a href="https://CRAN.R-project.org/package=vosonSML" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/vosonSML" alt="CRAN_Total"></a></p>
<p>The <code>vosonSML</code> R package is a suite of easy to use functions for collecting and generating different types of networks from social media data. The package supports the collection of data from the <code>mastodon</code>, <code>reddit</code>, <code>youtube</code> platforms and <code>hyperlinks</code> from web sites. Networks in the form of node and edge lists can be generated from collected data, supplemented with additional metadata, and used to create graphs for Social Network Analysis.</p>
<div class="section level2">
<h2 id="installation-options">Installation Options<a class="anchor" aria-label="anchor" href="#installation-options"></a>
</h2>
<p>Installing the github version is recommended at this time as CRAN releases may occur less frequently.</p>
<ol style="list-style-type: decimal">
<li>Install the latest github version:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># library(remotes)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"vosonlab/vosonSML"</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Install the CRAN release version:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"vosonSML"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>The following usage examples will provide a quick start to using <code>vosonSML</code> functions. Additionally there is an <a href="https://vosonlab.github.io/vosonSML/articles/Intro-to-vosonSML.html">Introduction to vosonSML</a> vignette that is a practical and explanatory guide to collecting data and creating networks.</p>
<div class="section level3">
<h3 id="general-usage">General Usage<a class="anchor" aria-label="anchor" href="#general-usage"></a>
</h3>
<p>The process of authentication, data collection and creating networks in <code>vosonSML</code> is expressed with the three functions: <em>Authenticate</em>, <em>Collect</em> and <em>Create</em>. The following are some examples of their usage for supported social media:</p>
<p><a href="#mastodon-usage">Mastodon</a> | <a href="#reddit-usage">Reddit</a> | <a href="#youtube-usage">YouTube</a> | <a href="#hyperlink-usage">Hyperlink</a> | <a href="#supplemental-functions">Supplemental Functions</a></p>
</div>
<div class="section level3">
<h3 id="general-options">General Options<a class="anchor" aria-label="anchor" href="#general-options"></a>
</h3>
<ul>
<li>
<code>verbose</code>: most <code>vosonSML</code> functions accept a verbosity parameter that is now set to <code>TRUE</code> by default. When <code>FALSE</code> functions will run silently unless there is a warning or error. If set to <code>TRUE</code> then progress and summary information for the function will be printed to the console.</li>
<li>
<code>writeToFile</code>: <code>vosonSML</code> functions accept a write to file parameter. When set <code>TRUE</code> the collected data will be saved to a file in either the working directory or a directory set by the <code>voson.data</code> option. The file will be saved as a RDS file with a datetime generated name in the following format: <code>YYYY-MM-DD_HHMMSS-XXXXXX</code> as a <code>rds</code> or <code>graphml</code> file.</li>
</ul>
<p>The following environment options can also be used:</p>
<ul>
<li>
<code>voson.data</code>: If set to an existing directory path the <code>writeToFile</code> output files will be written to that directory instead of the working directory. Can be set using <code>options(voson.data = "~/vsml-data")</code> for example, and is cleared by assigning a value of <code>NULL</code>. Directory paths can be relative to the working directory e.g. <code>./data</code> or full paths.</li>
<li>
<code>voson.cat</code>: If set to <code>TRUE</code> then the verbose output of functions will be printed using the base <code><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat()</a></code> function instead of the <code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code> function. Set by entering <code>options(voson.cat = TRUE)</code>, and clear by assigning a value of <code>NULL</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h3>
<p>Authentication objects generally <em>only need to be created once</em> unless your credentials change. It is recommended to save your <code>mastodon</code> and <code>youtube</code> authentication objects to file after creation and then load them in future sessions.</p>
<p><em>Please note in the examples provided that the “~” notation in paths are short-hand for the system to use the users home directory, and the “.” at the start of file names signifies it as a hidden file on some OS. You can name and save objects however you wish.</em></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># youtube data api key</span></span>
<span><span class="va">youtube_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"youtube"</span>, apiKey <span class="op">=</span> <span class="st">"xxxxxxxxxx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># save the object after Authenticate</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">youtube_auth</span>, file <span class="op">=</span> <span class="st">"~/.auth_yt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load a previously saved authentication object for use in Collect</span></span>
<span><span class="va">youtube_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"~/.auth_yt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="mastodon-usage">
<a name="mastodon-usage"></a>Mastodon Usage<a class="anchor" aria-label="anchor" href="#mastodon-usage"></a>
</h3>
<p>This implementation of <code>mastodon</code> collection uses the <code>rtoot</code> package and is most suited to collecting public posts.</p>
<div class="section level4">
<h4 id="collect-threads-or-search-for-posts-from-server-timelines">Collect threads or search for posts from server timelines<a class="anchor" aria-label="anchor" href="#collect-threads-or-search-for-posts-from-server-timelines"></a>
</h4>
<p><code>Collect</code> can be used to collect threads by setting the parameter <code>endpoint = thread</code> and providing the URL’s for the starting post of each thread to be collected. A mastodon server does not need to be specified, as the function will collect the thread posts from the server referenced in each URL.</p>
<p>The following example collects and combines all of the posts from the 3 threads provided. The result is a named list of two dataframes, one containing <code>posts</code> and one with the metadata for referenced <code>users</code> in the collection.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vosonlab.github.io/vosonSML/">vosonSML</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>voson.data <span class="op">=</span> <span class="st">"./mast-data"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mast_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"mastodon"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># collect thread posts belonging to the supplied mastodon</span></span>
<span><span class="co"># threads, the url of the first post in each thread should</span></span>
<span><span class="co"># be used</span></span>
<span><span class="va">mast_data</span> <span class="op">&lt;-</span> <span class="va">mast_auth</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span></span>
<span>    endpoint <span class="op">=</span> <span class="st">"thread"</span>,</span>
<span>    threadUrls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"https://mastodon.social/@arstechnica/111257471648143532"</span>,</span>
<span>      <span class="st">"https://mastodon.social/@arstechnica/111257425856847171"</span>,</span>
<span>      <span class="st">"https://mastodon.social/@arstechnica/111257193332540480"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    writeToFile <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Collecting post threads for mastodon urls...</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># id                 | created</span></span>
<span><span class="co"># --------------------------------------------</span></span>
<span><span class="co"># 111257471648143532 | 2023-10-18 18:38:11.509</span></span>
<span><span class="co"># 111257731042879692 | 2023-10-18 19:44:08</span></span>
<span><span class="co"># Collected 36 posts.</span></span>
<span><span class="co"># RDS file written: ./mast-data/2023-10-18_201254-MastodonData.rds</span></span>
<span><span class="co"># Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="collect-posts-or-search-and-collect-posts-from-server-timelines">Collect posts or search and collect posts from server timelines<a class="anchor" aria-label="anchor" href="#collect-posts-or-search-and-collect-posts-from-server-timelines"></a>
</h4>
<p><code>Collect</code> with the parameter <code>endpoint = search</code> can be used to collect a number of the most recent posts, or the most recent posts containing a hashtag from server timelines. This function requires a server to be specified using the <code>instance</code> parameter.</p>
<p>The following example collect the most recent 100 posts made to the <code>mastodon.social</code> server local timeline. The <code>local = TRUE</code> parameter restricts posts to only those made by server users.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mast_data</span> <span class="op">&lt;-</span> <span class="va">mast_auth</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span></span>
<span>    endpoint <span class="op">=</span> <span class="st">"search"</span>,</span>
<span>    instance <span class="op">=</span> <span class="st">"mastodon.social"</span>,</span>
<span>    local <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    numPosts <span class="op">=</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Collecting timeline posts...</span></span>
<span><span class="co"># Requested 100 posts</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># id                 | created</span></span>
<span><span class="co"># --------------------------------------------</span></span>
<span><span class="co"># 111257854695457456 | 2023-10-18 20:15:36.349</span></span>
<span><span class="co"># 111257844442617952 | 2023-10-18 20:12:59.92</span></span>
<span><span class="co"># Collected 120 posts.</span></span>
<span><span class="co"># Done.</span></span></code></pre></div>
<p>The next example collects the most recent 100 posts from the <code>mastodon.social</code> server global timeline containing the hashtag <code>#rstats</code>. The global timeline includes posts made by users from <code>mastodon.social</code> as well as posts made by users on its affiliated servers. The global timeline is specified by setting <code>local = FALSE</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mast_data</span> <span class="op">&lt;-</span> <span class="va">mast_auth</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span></span>
<span>    endpoint <span class="op">=</span> <span class="st">"search"</span>,</span>
<span>    instance <span class="op">=</span> <span class="st">"mastodon.social"</span>,</span>
<span>    local <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    hashtag <span class="op">=</span> <span class="st">"rstats"</span>,</span>
<span>    numPosts <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    writeToFile <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Collecting timeline posts...</span></span>
<span><span class="co"># Hashtag: rstats</span></span>
<span><span class="co"># Requested 100 posts</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># id                 | created            </span></span>
<span><span class="co"># ----------------------------------------</span></span>
<span><span class="co"># 111851761879684588 | 2024-01-31 17:33:57</span></span>
<span><span class="co"># 111839343172130565 | 2024-01-29 12:55:38</span></span>
<span><span class="co"># Collected 120 posts.</span></span>
<span><span class="co"># RDS file written: 2024-01-31_190125-MastodonData.rds</span></span>
<span><span class="co"># Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-mastodon-activity-and-actor-network-graphs">Create mastodon activity and actor network graphs<a class="anchor" aria-label="anchor" href="#create-mastodon-activity-and-actor-network-graphs"></a>
</h4>
<p>The mastodon <code>Create</code> function accepts the data from <code>Collect</code> and a type parameter of <code>activity</code> or <code>actor</code> that specifies the type of network to create from the collected data. <code>Create</code> produces two dataframes, one for network <code>nodes</code> and one for node relations or <code>edges</code>. These can then be passed to the <code>Graph</code> function to produce an <code>igraph</code> object.</p>
<div class="section level5">
<h5 id="activity-network">Activity network<a class="anchor" aria-label="anchor" href="#activity-network"></a>
</h5>
<p>Nodes are <code>posts</code> and edges are the relationship to other posts. The only relationship type supported at this time is <code>reply</code> edge.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">mast_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">mast_data</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generating mastodon activity network...</span></span>
<span><span class="co"># Done.</span></span>
<span></span>
<span><span class="co"># IGRAPH 7cc21ba DN-- 128 12 -- </span></span>
<span><span class="co"># + attr: type (g/c), name (v/c), post.created_at (v/n),</span></span>
<span><span class="co"># | post.visibility (v/c), account.id (v/c), account.username</span></span>
<span><span class="co"># | (v/c), account.acct (v/c), account.displayname (v/c),</span></span>
<span><span class="co"># | user.avatar (v/c), post.tags (v/x), post.tags.urls (v/x),</span></span>
<span><span class="co"># | post.reblogs_count (v/n), post.favourites_count (v/n),</span></span>
<span><span class="co"># | post.replies_count (v/n), post.url (v/c), node_type (v/c),</span></span>
<span><span class="co"># | absent (v/l), vosonTxt_post (v/c), created_at (e/n), edge_type</span></span>
<span><span class="co"># | (e/c)</span></span>
<span><span class="co"># + edges from 7cc21ba (vertex names):</span></span>
<span><span class="co"># [1] 111851737032132167-&gt;111846251799585000</span></span>
<span><span class="co"># + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="tag-network">Tag network<a class="anchor" aria-label="anchor" href="#tag-network"></a>
</h5>
<p>A variation on the mastodon <code>activity</code> network is the subtype <code>tag</code>. A tag network is a netork of tags (hashtags) found in posts, and their coocurrence with other tags within same posts used to create relations.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_tag</span> <span class="op">&lt;-</span> <span class="va">mast_data</span> <span class="op">|&gt;</span></span>
<span>   <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span>, subtype <span class="op">=</span> <span class="st">"tag"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>   <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span>   </span>
<span><span class="co"># Generating mastodon activity network...</span></span>
<span><span class="co"># Done.</span></span>
<span></span>
<span><span class="co"># IGRAPH 23e6e20 DN-- 94 624 -- </span></span>
<span><span class="co"># + attr: type (g/c), name (v/c), post.id (e/c), edge_type (e/c)</span></span>
<span><span class="co"># + edges from 23e6e20 (vertex names):</span></span>
<span><span class="co">#  [1] peerreviewed   -&gt;apackageaday    peerreviewed   -&gt;oss            </span></span>
<span><span class="co">#  [3] peerreviewed   -&gt;rstats          apackageaday   -&gt;peerreviewed   </span></span>
<span><span class="co">#  [5] apackageaday   -&gt;oss             apackageaday   -&gt;rstats         </span></span>
<span><span class="co">#  [7] oss            -&gt;peerreviewed    oss            -&gt;apackageaday   </span></span>
<span><span class="co">#  [9] oss            -&gt;rstats          rstats         -&gt;peerreviewed   </span></span>
<span><span class="co"># [11] rstats         -&gt;apackageaday    rstats         -&gt;oss            </span></span>
<span><span class="co"># [13] rstats         -&gt;reproducibility reproducibility-&gt;rstats         </span></span>
<span><span class="co"># [15] rshiny         -&gt;rstats          rstats         -&gt;rshiny         </span></span>
<span><span class="co"># + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="actor-network">Actor network<a class="anchor" aria-label="anchor" href="#actor-network"></a>
</h5>
<p>Nodes are authors of collected posts and edges are their relationship to other authors. The only relationship types supported at this time are <code>reply</code> and <code>mention</code> edges.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">mast_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span>, inclMentions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">mast_data</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generating mastodon actor network...</span></span>
<span><span class="co"># Done.</span></span>
<span></span>
<span><span class="co"># IGRAPH c46e984 DN-B 82 12 -- </span></span>
<span><span class="co"># + attr: type (g/c), name (v/c), user.acct (v/c), user.username</span></span>
<span><span class="co"># | (v/c), user.displayname (v/c), user.url (v/c), user.avatar</span></span>
<span><span class="co"># | (v/c), type (v/c), absent (v/l), post.id (e/c),</span></span>
<span><span class="co"># | post.created_at (e/n), edge_type (e/c), vosonTxt_post (e/c)</span></span>
<span><span class="co"># + edges from c46e984 (vertex names):</span></span>
<span><span class="co"># [1] 109610301164555149-&gt;109610301164555149</span></span>
<span><span class="co"># + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="server-network">Server network<a class="anchor" aria-label="anchor" href="#server-network"></a>
</h5>
<p>A variation on the mastodon <code>actor</code> network is the subtype <code>server</code>. A server network simply groups the users into single actors as represented by their servers, and similarly combines their relations at the server level.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_server</span> <span class="op">&lt;-</span> <span class="va">mast_data</span> <span class="op">|&gt;</span></span>
<span>   <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span>, subtype <span class="op">=</span> <span class="st">"server"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>   <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generating mastodon actor network...</span></span>
<span><span class="co"># Done.</span></span>
<span></span>
<span><span class="co"># IGRAPH 845c991 DN-- 23 10 -- </span></span>
<span><span class="co"># + attr: type (g/c), name (v/c), n (v/n), edge_type (e/c)</span></span>
<span><span class="co"># + edges from 845c991 (vertex names):</span></span>
<span><span class="co">#  [1] fosstodon.org  -&gt;fosstodon.org   fosstodon.org  -&gt;fosstodon.org  </span></span>
<span><span class="co">#  [3] aus.social     -&gt;aus.social      fosstodon.org  -&gt;fosstodon.org  </span></span>
<span><span class="co">#  [5] mastodon.social-&gt;mastodon.social fosstodon.org  -&gt;fosstodon.org  </span></span>
<span><span class="co">#  [7] fosstodon.org  -&gt;fosstodon.org   fosstodon.org  -&gt;fosstodon.org  </span></span>
<span><span class="co">#  [9] mastodon.social-&gt;hachyderm.io    mstdn.social   -&gt;mstdn.social</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="youtube-usage">
<a name="youtube-usage"></a>YouTube Usage<a class="anchor" aria-label="anchor" href="#youtube-usage"></a>
</h3>
<div class="section level4">
<h4 id="authenticate-and-collect-comments-from-youtube-videos">Authenticate and Collect comments from youtube videos<a class="anchor" aria-label="anchor" href="#authenticate-and-collect-comments-from-youtube-videos"></a>
</h4>
<p>YouTube uses an API key rather than an OAuth token and is simply set by calling <code>Authenticate</code> with the key as a parameter.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># youtube authentication sets the api key</span></span>
<span><span class="va">auth_yt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"youtube"</span>, apiKey <span class="op">=</span> <span class="st">"xxxxxxxxxxxxxx"</span><span class="op">)</span></span></code></pre></div>
<p>Once the key is set then <code>Collect</code> can be used to collect the comments from specified youtube videos. The following example collects a maximum of 100 top-level comments and all replies from each of the 2 specified video ID’s. It produces a dataframe with the combined comment data.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">video_url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://www.youtube.com/watch?v=AQzZNIyjyWM"</span>,</span>
<span>               <span class="st">"https://www.youtube.com/watch?v=lY0YLDZhT88&amp;t=3152s"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">collect_yt</span> <span class="op">&lt;-</span> <span class="va">auth_yt</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>videoIDs <span class="op">=</span> <span class="va">video_url</span>,</span>
<span>          maxComments <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span>          </span>
<span><span class="co">## Collecting comment threads for YouTube videos...</span></span>
<span><span class="co">## Video 1 of 2</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## ** Creating dataframe from threads of AQzZNIyjyWM.</span></span>
<span><span class="co">## ** Collecting replies for 1 threads with replies. Please be patient.</span></span>
<span><span class="co">## Comment replies 1 </span></span>
<span><span class="co">## ** Collected replies: 1</span></span>
<span><span class="co">## ** Total video comments: 11</span></span>
<span><span class="co">## (Video API unit cost: 5)</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## Video 2 of 2</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## ** Creating dataframe from threads of lY0YLDZhT88.</span></span>
<span><span class="co">## ** Collecting replies for 1 threads with replies. Please be patient.</span></span>
<span><span class="co">## Comment replies 6 </span></span>
<span><span class="co">## ** Collected replies: 6</span></span>
<span><span class="co">## ** Total video comments: 14</span></span>
<span><span class="co">## (Video API unit cost: 5)</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## ** Total comments collected for all videos 25.</span></span>
<span><span class="co">## (Estimated API unit cost: 10)</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-youtube-activity-and-actor-network-graphs">Create youtube activity and actor network graphs<a class="anchor" aria-label="anchor" href="#create-youtube-activity-and-actor-network-graphs"></a>
</h4>
<p>The youtube <code>Create</code> function accepts the data from <code>Collect</code> and a network type parameter of <code>activity</code> or <code>actor</code>.</p>
<div class="section level5">
<h5 id="activity-network-1">Activity network<a class="anchor" aria-label="anchor" href="#activity-network-1"></a>
</h5>
<p>Nodes are video comments and edges represent whether they were directed to the video as a top-level comment or to another comment as a reply comment.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Generating youtube activity network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected YouTube comments | 25</span></span>
<span><span class="co">## top-level comments         | 18</span></span>
<span><span class="co">## reply comments             | 7</span></span>
<span><span class="co">## videos                     | 2</span></span>
<span><span class="co">## nodes                      | 27</span></span>
<span><span class="co">## edges                      | 25</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_activity</span></span>
<span></span>
<span><span class="co">## IGRAPH 5a9fb56 DN-- 27 25 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), video_id (v/c), published_at (v/c),</span></span>
<span><span class="co">## | updated_at (v/c), author_id (v/c), screen_name (v/c), node_type</span></span>
<span><span class="co">## | (v/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 5a9fb56 (vertex names):</span></span>
<span><span class="co">## [1] Ugw13lb0nCf4o4IKFb54AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## [2] UgyJBlqZ64YnltQTOTt4AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## [3] Ugysomx_apk24Pqrs1h4AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="actor-network-1">Actor network<a class="anchor" aria-label="anchor" href="#actor-network-1"></a>
</h5>
<p>Nodes are users who have posted comments and the video publishers, edges represent comments directed at other users.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Generating YouTube actor network...</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_actor</span></span>
<span></span>
<span><span class="co">## IGRAPH 5aad4c4 DN-- 24 27 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), screen_name (v/c), node_type (v/c),</span></span>
<span><span class="co">## | video_id (e/c), comment_id (e/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 5aad4c4 (vertex names):</span></span>
<span><span class="co">##  [1] UCb9ElH9tzEkG9OxDIiSYgdg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [2] UC0DwaB_wHNzUh-LA9sWXKYQ-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [3] UCNHA8SkizJKauefYt1FHmjQ-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="reddit-usage">
<a name="reddit-usage"></a>Reddit Usage<a class="anchor" aria-label="anchor" href="#reddit-usage"></a>
</h3>
<p>The reddit API end-point used by <code>vosonSML</code> does not require authentication but an <code>Authenticate</code> object is still used to set up the collection and creation operations as part of a reddit workflow.</p>
<div class="section level4">
<h4 id="collect-a-thread-listing-from-subreddit">Collect a thread listing from subreddit<a class="anchor" aria-label="anchor" href="#collect-a-thread-listing-from-subreddit"></a>
</h4>
<p>By using the <code>endpoint = "listing"</code> parameter and a vector of subreddit names, a list of comment threads and their metadata can be collected. The number of list results returned per subreddit can be coarsely specified within 25 items, by using the <code>max</code> parameter.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># specify subreddit names</span></span>
<span><span class="va">subreddits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datascience"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># collect a listing of the 25 top threads by upvote of all time</span></span>
<span><span class="va">collect_rd_listing</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"reddit"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>endpoint <span class="op">=</span> <span class="st">"listing"</span>, subreddits <span class="op">=</span> <span class="va">subreddits</span>,</span>
<span>          sort <span class="op">=</span> <span class="st">"top"</span>, period <span class="op">=</span> <span class="st">"all"</span>, max <span class="op">=</span> <span class="fl">25</span>,</span>
<span>          writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Collecting thread listing for subreddits...</span></span>
<span><span class="co">## Waiting between 3 and 5 seconds per request.</span></span>
<span><span class="co">## Request subreddit listing: datascience (max items: 25).</span></span>
<span><span class="co">## subreddit_id | subreddit   | count</span></span>
<span><span class="co">## ----------------------------------</span></span>
<span><span class="co">## t5_2sptq     | datascience | 25   </span></span>
<span><span class="co">## Collected metadata for 25 threads in listings.</span></span>
<span><span class="co">## RDS file written: ./vsml-data/2023-04-02_073117-RedditListing.rds</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="collect-reddit-threads">Collect reddit threads<a class="anchor" aria-label="anchor" href="#collect-reddit-threads"></a>
</h4>
<p>The reddit <code>Collect</code> function can then be used to collect comments from reddit threads specified by URL’s.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># specify reddit threads to collect by url</span></span>
<span><span class="va">thread_urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.reddit.com/r/datascience/comments/wcd8x5/"</span>,</span>
<span>  <span class="st">"https://www.reddit.com/r/datascience/comments/wcni2g/"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># or use permalinks from a previously collected listing</span></span>
<span><span class="va">thread_urls</span> <span class="op">&lt;-</span> <span class="va">collect_rd_listing</span><span class="op">$</span><span class="va">permalink</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># collect comment threads with their comments sorted by best comments first</span></span>
<span><span class="va">collect_rd</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"reddit"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>threadUrls <span class="op">=</span> <span class="va">thread_urls</span>,</span>
<span>          sort <span class="op">=</span> <span class="st">"best"</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Collecting comment threads for reddit urls...</span></span>
<span><span class="co">## Waiting between 3 and 5 seconds per thread request.</span></span>
<span><span class="co">## Request thread: r/datascience (k8nyf8) - sort: best</span></span>
<span><span class="co">## Request thread: r/datascience (oeg6nl) - sort: best</span></span>
<span><span class="co">## Request thread: r/datascience (hohvgq) - sort: best</span></span>
<span><span class="co">## HTML decoding comments.</span></span>
<span><span class="co">## thread_id | title                                         | subreddit   | count</span></span>
<span><span class="co">## -------------------------------------------------------------------------------</span></span>
<span><span class="co">## hohvgq    | Shout Out to All the Mediocre Data Scienti... | datascience | 272  </span></span>
<span><span class="co">## k8nyf8    | data siens                                    | datascience | 77   </span></span>
<span><span class="co">## oeg6nl    | The pain and excitement                       | datascience | 179</span></span>
<span><span class="co">## Collected 528 total comments.</span></span>
<span><span class="co">## RDS file written: ./vsml-data/2023-04-02_073130-RedditData.rds</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<p><em>Please note that because of the API end-point used that <code>Collect</code> is limited to the first 500 comments per thread (plus 500 for each <code>continue thread</code> encountered). It is therefore suited to collecting only smaller threads in their entirety.</em></p>
</div>
<div class="section level4">
<h4 id="create-reddit-activity-and-actor-networks">Create reddit activity and actor networks<a class="anchor" aria-label="anchor" href="#create-reddit-activity-and-actor-networks"></a>
</h4>
<div class="section level5">
<h5 id="activity-network-2">Activity network<a class="anchor" aria-label="anchor" href="#activity-network-2"></a>
</h5>
<p>Nodes are original thread posts and comments, edges are replies directed to the original post and to comments made by others.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create an activity network</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_rd</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Generating reddit activity network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected reddit comments | 528</span></span>
<span><span class="co">## subreddits                | 1 </span></span>
<span><span class="co">## threads                   | 3 </span></span>
<span><span class="co">## comments                  | 528</span></span>
<span><span class="co">## nodes                     | 531</span></span>
<span><span class="co">## edges                     | 528</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_activity</span></span>
<span></span>
<span><span class="co">## IGRAPH 62e8305 DN-- 531 528 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), thread_id (v/c), comm_id (v/c),</span></span>
<span><span class="co">## | datetime (v/c), ts (v/n), subreddit (v/c), user (v/c), node_type</span></span>
<span><span class="co">## | (v/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 62e8305 (vertex names):</span></span>
<span><span class="co">##  [1] k8nyf8.1      -&gt;k8nyf8.0     k8nyf8.1_1    -&gt;k8nyf8.1    </span></span>
<span><span class="co">##  [3] k8nyf8.1_2    -&gt;k8nyf8.1     k8nyf8.1_2_1  -&gt;k8nyf8.1_2  </span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="actor-network-2">Actor network<a class="anchor" aria-label="anchor" href="#actor-network-2"></a>
</h5>
<p>Nodes are reddit users who have commented on threads and edges represent replies to other users.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create an actor network</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_rd</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Generating reddit actor network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected reddit comments | 528</span></span>
<span><span class="co">## subreddits                | 1 </span></span>
<span><span class="co">## threads                   | 3 </span></span>
<span><span class="co">## comments                  | 273</span></span>
<span><span class="co">## nodes                     | 321</span></span>
<span><span class="co">## edges                     | 531</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_actor</span></span>
<span></span>
<span><span class="co">## IGRAPH 62fa45c DN-- 321 531 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), user (v/c), subreddit (e/c), thread_id</span></span>
<span><span class="co">## | (e/c), comment_id (e/n), comm_id (e/c)</span></span>
<span><span class="co">## + edges from 62fa45c (vertex names):</span></span>
<span><span class="co">##  [1] 1 -&gt;1  2 -&gt;1  3 -&gt;1  1 -&gt;3  3 -&gt;1  4 -&gt;1  5 -&gt;1  6 -&gt;3  7 -&gt;1  8 -&gt;7 </span></span>
<span><span class="co">## [11] 9 -&gt;1  1 -&gt;9  10-&gt;1  11-&gt;1  1 -&gt;11 1 -&gt;1  1 -&gt;1  1 -&gt;1  1 -&gt;1  1 -&gt;1 </span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="hyperlink-usage">
<a name="hyperlink-usage"></a>Hyperlink Usage<a class="anchor" aria-label="anchor" href="#hyperlink-usage"></a>
</h3>
<div class="section level4">
<h4 id="authenticate-and-collect-from-web-sites">Authenticate and Collect from web sites<a class="anchor" aria-label="anchor" href="#authenticate-and-collect-from-web-sites"></a>
</h4>
<p>The <code>vosonSML</code> hyperlink collection functionality does not require authentication as it is not using any web API’s, however an <code>Authenticate</code> object is still used to set up the collection and creation operations as part of the <code>vosonSML</code> workflow.</p>
<p>The hyperlink <code>Collect</code> function accepts a dataframe of seed web pages, as well as corresponding <code>type</code> and <code>max_depth</code> parameters for each page.</p>
<p><em>Please note that this implementalion of hyperlink collection and networks is still in an experimental stage.</em></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># specify seed web pages and parameters for hyperlink collection</span></span>
<span><span class="va">seed_pages</span> <span class="op">&lt;-</span></span>
<span>   <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>     <span class="op">~</span><span class="va">page</span>, <span class="op">~</span><span class="va">type</span>, <span class="op">~</span><span class="va">max_depth</span>,</span>
<span>     <span class="st">"http://vosonlab.net"</span>, <span class="st">"ext"</span>, <span class="fl">2</span>,</span>
<span>     <span class="st">"https://www.oii.ox.ac.uk"</span>, <span class="st">"ext"</span>, <span class="fl">2</span>,</span>
<span>     <span class="st">"https://sonic.northwestern.edu"</span>, <span class="st">"ext"</span>, <span class="fl">2</span></span>
<span>   <span class="op">)</span></span>
<span></span>
<span><span class="co">#  A tibble: 3 × 3</span></span>
<span><span class="co">#   page                           type  max_depth</span></span>
<span><span class="co">#   &lt;chr&gt;                          &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span><span class="co"># 1 http://vosonlab.net            ext           2</span></span>
<span><span class="co"># 2 https://www.oii.ox.ac.uk       ext           2</span></span>
<span><span class="co"># 3 https://sonic.northwestern.edu ext           2</span></span>
<span></span>
<span><span class="va">collect_web</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"web"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>pages <span class="op">=</span> <span class="va">seed_pages</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Collecting web page hyperlinks...</span></span>
<span><span class="co"># *** initial call to get urls - http://vosonlab.net</span></span>
<span><span class="co"># * new domain: http://vosonlab.net</span></span>
<span><span class="co"># + http://vosonlab.net (10 secs)</span></span>
<span><span class="co"># *** end initial call</span></span>
<span><span class="co"># *** set depth: 2</span></span>
<span><span class="co"># *** loop call to get urls - nrow: 6 depth: 2 max_depth: 2</span></span>
<span><span class="co"># * new domain: http://rsss.anu.edu.au</span></span>
<span><span class="co"># + http://rsss.anu.edu.au (0.96 secs)</span></span>
<span><span class="co"># ...</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-activity-and-actor-networks">Create activity and actor networks<a class="anchor" aria-label="anchor" href="#create-activity-and-actor-networks"></a>
</h4>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generate a hyperlink activity network</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_web</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate a hyperlink actor network</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_web</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="supplemental-functions">
<a name="supplemental-functions"></a>Supplemental Functions<a class="anchor" aria-label="anchor" href="#supplemental-functions"></a>
</h3>
<div class="section level4">
<h4 id="merge-collected-data-together">Merge collected data together<a class="anchor" aria-label="anchor" href="#merge-collected-data-together"></a>
</h4>
<p>The <code>Merge</code> and <code>MergeFiles</code> functions allow two or more <code>Collect</code> objects to be merged together provided they are of the same datasource type e.g <code>mastodon</code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">get_hashtag_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">tag</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"mastodon"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span></span>
<span>      endpoint <span class="op">=</span> <span class="st">"search"</span>,</span>
<span>      instance <span class="op">=</span> <span class="st">"mastodon.social"</span>,</span>
<span>      local <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      hashtag <span class="op">=</span> <span class="va">tag</span>,</span>
<span>      numPosts <span class="op">=</span> <span class="fl">100</span>,</span>
<span>      writeToFile <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vosonlab.github.io/vosonSML/">vosonSML</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>voson.data <span class="op">=</span> <span class="st">"./mast-data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># collect data</span></span>
<span><span class="va">mast_rstats</span> <span class="op">&lt;-</span> <span class="fu">get_hashtag_data</span><span class="op">(</span><span class="st">"rstats"</span><span class="op">)</span></span>
<span><span class="va">mast_python</span> <span class="op">&lt;-</span> <span class="fu">get_hashtag_data</span><span class="op">(</span><span class="st">"python"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># merge collect objects</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Merge.html">Merge</a></span><span class="op">(</span><span class="va">mast_rstats</span>, <span class="va">mast_python</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merging collect data...</span></span>
<span><span class="co"># RDS file written: ./mast-data/2024-07-21_150353-MastodonDataMerge.rds</span></span>
<span><span class="co"># Done.</span></span>
<span></span>
<span><span class="co"># merge files from a data directory</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/MergeFiles.html">MergeFiles</a></span><span class="op">(</span></span>
<span>  <span class="st">"./mast-data"</span>, pattern <span class="op">=</span> <span class="st">"*MastodonData.rds"</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merging collect files...</span></span>
<span><span class="co"># Matching files:</span></span>
<span><span class="co"># - ./mast-data/2024-07-21_035919-MastodonData.rds</span></span>
<span><span class="co"># - ./mast-data/2024-07-21_035925-MastodonData.rds</span></span>
<span><span class="co"># Merging collect data...</span></span>
<span><span class="co"># RDS file written: ./mast-data/2024-07-21_150544-DataMergeFile.rds</span></span>
<span><span class="co"># Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="addtext-adds-collected-text-data-to-networks-as-node-or-edge-attributes">AddText adds collected text data to networks as node or edge attributes<a class="anchor" aria-label="anchor" href="#addtext-adds-collected-text-data-to-networks-as-node-or-edge-attributes"></a>
</h4>
<p>The <code>AddText</code> function can be used following the creation of all networks for <code>mastodon</code>, <code>youtube</code> and <code>reddit</code>. It will add an attribute starting with <code>vosonTxt_</code> to nodes of <code>activity</code> networks and to edges of <code>actor</code> networks. It requires a collected <code>datasource</code> from which to extract text data.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create activity network</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># activity network with text data added as node attribute</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>  </span>
<span><span class="co">## Adding text data to network...Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">net_activity</span><span class="op">)</span></span>
<span><span class="co">#  [1] "post.id"               "post.created_at"      </span></span>
<span><span class="co"># ..             </span></span>
<span><span class="co"># [17] "vosonTxt_post"</span></span></code></pre></div>
<p><code>AddText</code> will also redirect some edges in a youtube <code>actor</code> network by finding user references at the beginning of reply comments text using the <code>repliesFromText</code> parameter. In the following example an edge would be redirected from <code>UserC</code> to <code>UserB</code> by text reference as opposed to <code>UserA</code> who made the top-level comment both users are replying to.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># video comments</span></span>
<span><span class="co"># UserA: Great tutorial.</span></span>
<span><span class="co"># |- UserB: I agree, but it could have had more examples.</span></span>
<span><span class="co"># |- UserC: @UserB I thought it probably had too many.</span></span></code></pre></div>
<p>Redirect edge between user nodes <code>C -&gt; A</code> to <code>C -&gt; B</code>.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create activity network</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># detects replies to users in text</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">collect_yt</span>, repliesFromText <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Adding text data to network...Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="addvideodata-requests-and-adds-video-data-to-networks">AddVideoData requests and adds video data to networks<a class="anchor" aria-label="anchor" href="#addvideodata-requests-and-adds-video-data-to-networks"></a>
</h4>
<p><code>AddVideoData</code> adds video information as node attributes in youtube <code>actor</code> networks and replaces the video ID nodes with a user (channel owner or publisher). The <code>actorSubOnly</code> parameter can be used to only perform the ID substitution.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># replaces VIDEOID:xxxxxx references in actor network with their publishers</span></span>
<span><span class="co"># user id (channel ID) and adds additional collected youtube video info to actor</span></span>
<span><span class="co"># network graph as node attributes</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/AddVideoData.html">AddVideoData</a></span><span class="op">(</span><span class="va">auth_yt</span>, actorSubOnly <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">net_actor</span><span class="op">)</span></span>
<span><span class="co">## [1] "nodes"  "edges"  "videos"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">net_actor</span><span class="op">$</span><span class="va">videos</span><span class="op">)</span></span>
<span><span class="co">## [1] 2</span></span></code></pre></div>
<p><code>AddVideoData</code> function will also add a new dataframe to the <code>actor_network</code> network list containing the retrieved video information called <code>videos</code>.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## IGRAPH 644cb17 DN-- 23 27 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), screen_name (v/c), node_type (v/c),</span></span>
<span><span class="co">## | video_id (e/c), comment_id (e/c), edge_type (e/c), video_title (e/c),</span></span>
<span><span class="co">## | video_description (e/c), video_published_at (e/c)</span></span>
<span><span class="co">## + edges from 644cb17 (vertex names):</span></span>
<span><span class="co">## [1] UCb9ElH9tzEkG9OxDIiSYgdg-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## [2] UC0DwaB_wHNzUh-LA9sWXKYQ-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="where-to-next">Where to next?<a class="anchor" aria-label="anchor" href="#where-to-next"></a>
</h2>
<p>Continue working with the network graphs using the <code>igraph</code> package and check out some examples of plots in the <a href="https://vosonlab.github.io/vosonSML/articles/Intro-to-vosonSML.html">Introduction to vosonSML</a> vignette. The <code>graphml</code> files produced by <code>vosonSML</code> are also easily imported into software such as <a href="https://gephi.org/" class="external-link">Gephi</a> for further visualization and exploration of networks.</p>
<p>As an alternative to <code>vosonSML</code> using the R command-line interface we have also developed an R Shiny app called <a href="https://vosonlab.github.io/VOSONDash/" class="external-link">VOSON Dash</a>. It provides a user friendly GUI for the collection of data using <code>vosonSML</code> and has additional network visualization and analysis features.</p>
<p>For more detailed information about functions and their parameters, please refer to the <a href="https://vosonlab.github.io/vosonSML/reference/index.html">Reference</a> page.</p>
</div>
<div class="section level2">
<h2 id="special-thanks">Special thanks<a class="anchor" aria-label="anchor" href="#special-thanks"></a>
</h2>
<p>This package would not be possible without a number of excellent packages created by others in the R community, we would especially like to thank the authors of the <a href="https://github.com/tidyverse/dplyr" class="external-link">dplyr</a>, <a href="https://github.com/r-lib/httr2" class="external-link">httr2</a>, <a href="https://github.com/igraph/rigraph" class="external-link">igraph</a>, <a href="https://github.com/ivan-rivera/RedditExtractoR" class="external-link">RedditExtractoR</a>, <a href="https://gesistsa.github.io/rtoot/" class="external-link">rtoot</a></p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the VOSON Lab projects are released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=vosonSML" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/vosonlab/vosonSML/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/vosonlab/vosonSML/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing vosonSML</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://vosonlab.net" class="external-link"><span>VOSON Lab</span></a> <br><small class="roles"> Author, maintainer </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://vosonlab.net" class="external-link"><span>VOSON Lab</span></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
