<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Collecting Social Media Data and Generating Networks for Analysis • vosonSML</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Collecting Social Media Data and Generating Networks for Analysis">
<meta property="og:description" content="A suite of easy to use functions for collecting social media
    data and generating networks for analysis. Supports Twitter, YouTube,
    Reddit and web site data sources.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">vosonSML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.33.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper"></span>
     
    Changelog
  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-cubes fa-lg"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Intro-to-vosonSML.html">
        <span class="far fa-file-alt"></span>
         
        Introduction to vosonSML
      </a>
    </li>
    <li>
      <a href="https://vosonlab.github.io/posts/2022-06-05-egocentric-networks-from-twitter-timelines" class="external-link">
        <span class="far fa-file-alt"></span>
         
        Egocentric Networks from Twitter timelines
      </a>
    </li>
    <li>
      <a href="https://vosonlab.github.io/posts/2021-10-01-testing-bot-status-of-twitter-users" class="external-link">
        <span class="far fa-file-alt"></span>
         
        Testing the bot status of users in Twitter networks collected via vosonSML
      </a>
    </li>
    <li>
      <a href="https://vosonlab.github.io/posts/2021-03-15-hyperlink-networks-with-vosonsml" class="external-link">
        <span class="far fa-file-alt"></span>
         
        Hyperlink Networks with vosonSML
      </a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://vosonlab.net/" class="external-link">
    <span class="fa fa-flask fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/vosonlab" class="external-link">
    <span class="fab fa-twitter-square fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/vosonlab/vosonSML" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="vosonsml---social-media-lab">vosonSML - Social Media Lab<img src="https://vosonlab.github.io/vosonSML/images/logo.png" width="140px" align="right"><a class="anchor" aria-label="anchor" href="#vosonsml---social-media-lab"></a>
</h1></div>
<p><a href="https://CRAN.R-project.org/package=vosonSML" class="external-link"><img src="https://www.r-pkg.org/badges/version/vosonSML" alt="CRAN_Status_Badge"></a> <a href="https://CRAN.R-project.org/package=vosonSML" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/vosonSML" alt="CRAN_Monthly"></a> <a href="https://CRAN.R-project.org/package=vosonSML" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/vosonSML" alt="CRAN_Total"></a> <a href="https://github.com/vosonlab/vosonSML/releases" class="external-link"><img src="https://img.shields.io/github/release-pre/vosonlab/vosonSML.svg?logo=github" alt="Github_Release"></a> <a href="https://github.com/vosonlab/vosonSML" class="external-link"><img src="https://img.shields.io/static/v1?label=dev&amp;message=v0.33.1&amp;logo=github" alt="Github_Dev"></a> <a href="https://github.com/vosonlab/vosonSML/commits/master" class="external-link"><img src="https://img.shields.io/github/last-commit/vosonlab/vosonSML.svg?&amp;logo=github" alt="Last_Commit"></a> <a href="https://github.com/vosonlab/vosonSML/actions" class="external-link"><img src="https://github.com/vosonlab/vosonSML/workflows/R-CMD-check/badge.svg" alt="Build_Status"></a></p>
<p>The <code>vosonSML</code> R package is a suite of easy to use functions for collecting and generating different types of networks from social media data. The package supports the collection of data from <code>twitter</code>, <code>youtube</code> and <code>reddit</code>, as well as <code>hyperlinks</code> from web sites. Networks in the form of node and edge lists can be generated from collected data, supplemented with additional metadata, and used to create graphs for Social Network Analysis.</p>
<div class="section level2">
<h2 id="installation-options">Installation Options<a class="anchor" aria-label="anchor" href="#installation-options"></a>
</h2>
<p>Install the most recent CRAN release:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"vosonSML"</span><span class="op">)</span></span></code></pre></div>
<p>Install the most recent release tag via GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://github.com/vosonlab/vosonSML/releases/download/v0.32.7/vosonSML-0.32.7.tar.gz"</span>,</span>
<span>  repo <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span></code></pre></div>
<p>Install the latest development version:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># library(remotes)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"vosonlab/vosonSML"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>The following usage examples will provide a quick start to using <code>vosonSML</code> functions. Additionally there is an <a href="https://vosonlab.github.io/vosonSML/articles/Intro-to-vosonSML.html" class="external-link">Introduction to vosonSML</a> vignette that is a practical and explanatory guide to collecting data and creating networks.</p>
<div class="section level3">
<h3 id="general-usage">General Usage<a class="anchor" aria-label="anchor" href="#general-usage"></a>
</h3>
<p>The process of authentication, data collection and creating networks in <code>vosonSML</code> is expressed with the three functions: <em>Authenticate</em>, <em>Collect</em> and <em>Create</em>. The following are some examples of their usage for supported social media:</p>
<p><a href="#twitter-usage">Twitter</a> | <a href="#youtube-usage">YouTube</a> | <a href="#reddit-usage">Reddit</a> | <a href="#hyperlink-usage">Hyperlink</a> | <a href="#supplemental-functions">Supplemental Functions</a></p>
</div>
<div class="section level3">
<h3 id="general-options">General Options<a class="anchor" aria-label="anchor" href="#general-options"></a>
</h3>
<ul>
<li>
<code>verbose</code>: most <code>vosonSML</code> functions accept a verbosity parameter that is now set to <code>FALSE</code> by default. When <code>FALSE</code> functions will run silently unless there is an error. If set to <code>TRUE</code> then progress and summary information for the function will be printed to the console.</li>
</ul>
<p>The following environment options can also be used:</p>
<ul>
<li>
<code>voson.msg</code>: If set to <code>FALSE</code> then the verbose output of functions will be printed using the base <code><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat()</a></code> function instead of the <code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code> function. Set by entering <code>options(voson.msg = FALSE)</code>, and clear by assigning a value of <code>NULL</code>.</li>
<li>
<code>voson.data</code>: If set to an existing directory path the <code>writeToFile</code> output files will be written to that directory instead of the working directory. Can be set using <code>options(voson.data = "~/vsml-data")</code> for example, and cleared by assigning a value of <code>NULL</code>. Directory paths can be relative to the working directory or full paths.</li>
</ul>
</div>
<div class="section level3">
<h3 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h3>
<p>Authentication objects generally <em>only need to be created once</em> unless your credentials change. Save <code>twitter</code> and <code>youtube</code> authentication objects to file after creation and then load them in future sessions.</p>
<p><em>Please note in the examples provided that the “~” notation in paths are short-hand for the system to use the users home directory, and the “.” at the start of file names classifies it as a hidden file on some OS. You can name and save objects however you wish.</em></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># youtube data api key</span></span>
<span><span class="va">auth_yt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"youtube"</span>, apiKey <span class="op">=</span> <span class="st">"xxxxxxxxxx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># save the object after Authenticate</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">auth_yt</span>, file <span class="op">=</span> <span class="st">"~/.auth_yt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load a previously saved authentication object for use in Collect</span></span>
<span><span class="va">auth_yt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"~/.auth_yt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="twitter-usage">Twitter Usage<a class="anchor" aria-label="anchor" href="#twitter-usage"></a>
</h3>
<p>Please note that <code>vosonSML</code> only accesses the Twitter <code>v1.1</code> API via <a href="https://github.com/ropensci/rtweet" class="external-link">rtweet</a> and does not support the newer <code>v2</code> API at this time. Please refer to the VOSON Lab <a href="https://github.com/vosonlab/voson.tcn" class="external-link">voson.tcn</a> package if you are interested in using the <code>v2</code> API to collect and analyse Twitter conversation networks. <code>voson.tcn</code> has features to collect tweets and conversation threads by url or id, and similarly to <code>vosonSML</code> produces <code>activity</code> and <code>actor</code> networks with additional metadata.</p>
<p><code>The Twitter features of this version of vosonSML requires rtweet v1.0 or later.</code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"rtweet"</span><span class="op">)</span></span>
<span><span class="co">## [1] '1.1.0'</span></span></code></pre></div>
<div class="section level4">
<h4 id="authenticate-with-the-twitter-api">Authenticate with the Twitter API<a class="anchor" aria-label="anchor" href="#authenticate-with-the-twitter-api"></a>
</h4>
<p><code>Authenticate</code> is used to create an object that contains a Twitter token for accessing the Twitter API. This can and should be re-used by saving it once to file after calling <code>Authenticate</code> and then by loading it again during future sessions.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vosonlab/vosonSML" class="external-link">vosonSML</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># twitter authentication creates an access token as part of the auth object</span></span>
<span><span class="va">auth_tw_bearer</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"twitter"</span>, bearerToken <span class="op">=</span> <span class="st">"xxxxxxxxxxxx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># save the object to file after authenticate</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">auth_tw_bearer</span>, file <span class="op">=</span> <span class="st">"~/.auth_tw_bearer"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load a previously saved auth object for use in collect</span></span>
<span><span class="va">auth_tw_bearer</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"~/.auth_tw_bearer"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="collect-tweets-using-a-search-or-from-user-timelines">Collect tweets using a search or from user timelines<a class="anchor" aria-label="anchor" href="#collect-tweets-using-a-search-or-from-user-timelines"></a>
</h4>
<p><code>Collect</code> can be used to perform a twitter search with a search term or collect tweets from timelines using user names. The following example collects 100 <code>recent</code> tweets for the hashtag <code>#auspol</code> and creates a dataframe with the collected tweet data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set output data directory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>voson.data <span class="op">=</span> <span class="st">"./vsml-data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># collect 100 recent tweets for the hashtag #auspol</span></span>
<span><span class="va">collect_tw</span> <span class="op">&lt;-</span> <span class="va">auth_tw_bearer</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>searchTerm <span class="op">=</span> <span class="st">"#auspol"</span>,</span>
<span>          searchType <span class="op">=</span> <span class="st">"recent"</span>,</span>
<span>          numTweets <span class="op">=</span> <span class="fl">100</span>,</span>
<span>          includeRetweets <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          writeToFile <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Collecting tweets for search query...</span></span>
<span><span class="co">## Search term: #auspol</span></span>
<span><span class="co">## Requested 100 tweets of 45000 in this search rate limit.</span></span>
<span><span class="co">## Rate limit reset: 2023-03-15 21:27:20</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## tweet        | status_id           | created            </span></span>
<span><span class="co">## --------------------------------------------------------</span></span>
<span><span class="co">## Latest Obs   | 1636113064239169536 | 2023-03-15 21:12:06</span></span>
<span><span class="co">## Earliest Obs | 1636111875112075269 | 2023-03-15 21:07:23</span></span>
<span><span class="co">## Collected 100 tweets.</span></span>
<span><span class="co">## RDS file written: ./vsml-data/2023-03-15_211223-TwitterData.rds</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<p>The next example collects the 100 most recent tweets from the <code>@vosonlab</code> and <code>@ANU_SOC</code> user timelines. Note that this method requires the <code>endpoint = "timeline"</code> parameter.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># collect 100 timeline tweets for each specified user</span></span>
<span><span class="va">collect_tw_tl</span> <span class="op">&lt;-</span> <span class="va">auth_tw_bearer</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>endpoint <span class="op">=</span> <span class="st">"timeline"</span>,</span>
<span>          users <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"vosonlab"</span>, <span class="st">"ANU_SOCY"</span><span class="op">)</span>,</span>
<span>          numTweets <span class="op">=</span> <span class="fl">100</span>,</span>
<span>          writeToFile <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Collecting timeline tweets for users...</span></span>
<span><span class="co">## Requested 200 tweets of 150000 in this search rate limit.</span></span>
<span><span class="co">## Rate limit reset: 2023-03-15 21:27:23</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## tweet        | status_id           | created            </span></span>
<span><span class="co">## --------------------------------------------------------</span></span>
<span><span class="co">## Latest Obs   | 1628912713949925376 | 2023-02-24 00:20:29</span></span>
<span><span class="co">## Earliest Obs | 1436188328760471555 | 2021-09-10 04:42:35</span></span>
<span><span class="co">## Collected 200 tweets.</span></span>
<span><span class="co">## RDS file written: ./vsml-data/2023-03-15_211226-TwitterData.rds</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<p>The output for these methods also lists the earliest and most recent tweet as well as the number of tweets collected.</p>
<div class="section level5">
<h5 id="importing-tweets-from-rtweet">Importing tweets from rtweet<a class="anchor" aria-label="anchor" href="#importing-tweets-from-rtweet"></a>
</h5>
<p>Because <code>vosonSML</code> uses the <code>rtweet</code> package to access and collect tweets data, <code>rtweet</code> data is also able to be easily imported from dataframe or file and then transformed into a <code>Collect</code> object for further use.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tw_auth_rt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"~/.rtweet_oauth1a"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tweets</span> <span class="op">&lt;-</span> <span class="fu">rtweet</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/rtweet/reference/search_tweets.html" class="external-link">search_tweets</a></span><span class="op">(</span><span class="st">"#auspol"</span>, n <span class="op">=</span> <span class="fl">20</span>, token <span class="op">=</span> <span class="va">tw_auth_rt</span><span class="op">)</span></span>
<span><span class="va">data_tw</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ImportRtweet.html">ImportRtweet</a></span><span class="op">(</span><span class="va">tweets</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data_tw</span><span class="op">)</span></span>
<span><span class="co">## [1] "tweets" "users"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">data_tw</span><span class="op">)</span></span>
<span><span class="co">## [1] "datasource" "twitter"    "list"</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="create-twitter-activity-actor-semantic-and-2-mode-network-graphs">Create twitter activity, actor, semantic and 2-mode network graphs<a class="anchor" aria-label="anchor" href="#create-twitter-activity-actor-semantic-and-2-mode-network-graphs"></a>
</h4>
<p>The twitter <code>Create</code> function accepts the data from <code>Collect</code> and a type parameter of <code>activity</code>, <code>actor</code>, <code>semantic</code> or <code>twomode</code> that specifies the type of network to create from the collected data. <code>Create</code> produces two dataframes, one for network <code>nodes</code> and one for node relations or <code>edges</code> in the network. These can then undergo further processing as per the <a href="#supplemental-functions">supplemental functions</a> section or be passed to the <code>Graph</code> function that creates an <code>igraph</code> object.</p>
<div class="section level5">
<h5 id="activity-network">Activity network<a class="anchor" aria-label="anchor" href="#activity-network"></a>
</h5>
<p>Nodes are tweets and edges are the relationship to other tweets such as <code>reply</code>, <code>retweet</code> or <code>quote</code> tweets.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_tw</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Generating twitter activity network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected tweets | 100</span></span>
<span><span class="co">## tweet            | 8 </span></span>
<span><span class="co">## retweet          | 86</span></span>
<span><span class="co">## reply            | 3 </span></span>
<span><span class="co">## quote            | 3 </span></span>
<span><span class="co">## nodes            | 168</span></span>
<span><span class="co">## edges            | 100</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span>writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Creating igraph network graph...</span></span>
<span><span class="co">## GRAPHML file written: ./vsml-data/2023-03-16_081227-TwitterActivity.graphml</span></span>
<span><span class="co">## Done.</span></span>
<span></span>
<span><span class="va">g_activity</span></span>
<span><span class="co">## IGRAPH 16fccc8 DN-- 168 100 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), author_id (v/c), author_screen_name</span></span>
<span><span class="co">## | (v/c), created_at (v/c), user_id (e/c), screen_name (e/c), created_at</span></span>
<span><span class="co">## | (e/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 16fccc8 (vertex names):</span></span>
<span><span class="co">##  [1] 1636113064239169536-&gt;1635473085523709954</span></span>
<span><span class="co">##  [2] 1636113053329809408-&gt;1636084167292366849</span></span>
<span><span class="co">##  [3] 1636113034656743424-&gt;1636110175361974273</span></span>
<span><span class="co">##  [4] 1636113025605459968-&gt;1635840697604657153</span></span>
<span><span class="co">##  [5] 1636113024489766912-&gt;1635844302386638848</span></span>
<span><span class="co">##  [6] 1636112986699096065-&gt;1635973001945686016</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="actor-network">Actor network<a class="anchor" aria-label="anchor" href="#actor-network"></a>
</h5>
<p>Nodes are twitter users and edges are the relationship to other users in the network such as <code>reply</code>, <code>mention</code>, <code>retweet</code> and <code>quote</code> tweets. Mentions can be excluded by setting the parameter <code>inclMentions</code> to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_tw</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span>, inclMentions <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Generating twitter actor network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected tweets | 100</span></span>
<span><span class="co">## tweet mention    | 15</span></span>
<span><span class="co">## tweet            | 8 </span></span>
<span><span class="co">## retweet          | 86</span></span>
<span><span class="co">## reply mention    | 1 </span></span>
<span><span class="co">## reply            | 3 </span></span>
<span><span class="co">## quote            | 3 </span></span>
<span><span class="co">## nodes            | 139</span></span>
<span><span class="co">## edges            | 116</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span>writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Creating igraph network graph...</span></span>
<span><span class="co">## GRAPHML file written: ./vsml-data/2023-03-16_081228-TwitterActor.graphml</span></span>
<span><span class="co">## Done.</span></span>
<span></span>
<span><span class="va">g_actor</span></span>
<span><span class="co">## IGRAPH 17658d5 DN-- 139 116 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), screen_name (v/c), status_id (e/c),</span></span>
<span><span class="co">## | created_at (e/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 17658d5 (vertex names):</span></span>
<span><span class="co">##  [1] 2450621492         -&gt;4185126622         </span></span>
<span><span class="co">##  [2] 3021242996         -&gt;60779696           </span></span>
<span><span class="co">##  [3] 1444991809885642753-&gt;1018807341351821312</span></span>
<span><span class="co">##  [4] 714226735265357824 -&gt;588732151          </span></span>
<span><span class="co">##  [5] 733346696          -&gt;636186580          </span></span>
<span><span class="co">##  [6] 234020300          -&gt;1153682741780598785</span></span>
<span><span class="co">##  [7] 570408824          -&gt;258124400          </span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="semantic-network">Semantic network<a class="anchor" aria-label="anchor" href="#semantic-network"></a>
</h5>
<p>Nodes are concepts represented as common <code>words</code> and <code>hashtags</code>. Edges represent the occurence of a particular word and a particular hashtag in the same tweet. The semantic network is <code>undirected</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install additional required packages</span></span>
<span><span class="co"># install.packages("stopwords")</span></span>
<span></span>
<span><span class="co"># create a semantic network excluding the hashtag #auspol, include only the</span></span>
<span><span class="co"># top 10% most frequent words and 20% most frequent hashtags as nodes</span></span>
<span><span class="va">net_semantic</span> <span class="op">&lt;-</span> <span class="va">collect_tw</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span></span>
<span>    <span class="st">"semantic"</span>,</span>
<span>    removeTermsOrHashtags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#auspol"</span><span class="op">)</span>,</span>
<span>    termFreq <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    hashtagFreq <span class="op">=</span> <span class="fl">20</span>,</span>
<span>    verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">## Generating twitter semantic network...</span></span>
<span><span class="co">## Removing terms and hashtags: #auspol</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## retweets                 | 86</span></span>
<span><span class="co">## tokens                   | 319</span></span>
<span><span class="co">## removed specified        | 14</span></span>
<span><span class="co">## removed users            | 19</span></span>
<span><span class="co">## hashtag count            | 21</span></span>
<span><span class="co">## hashtags unique          | 19</span></span>
<span><span class="co">## term count               | 128</span></span>
<span><span class="co">## terms unique             | 116</span></span>
<span><span class="co">## top 20% hashtags n (&gt;=1) | 19</span></span>
<span><span class="co">## top 10% terms n (&gt;=1)    | 116</span></span>
<span><span class="co">## nodes                    | 79</span></span>
<span><span class="co">## edges                    | 140</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_semantic</span> <span class="op">&lt;-</span> <span class="va">net_semantic</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span>writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Creating igraph network graph...</span></span>
<span><span class="co">## GRAPHML file written: ./vsml-data/2023-03-16_081229-TwitterSemantic.graphml</span></span>
<span><span class="co">## Done.</span></span>
<span></span>
<span><span class="va">g_semantic</span></span>
<span><span class="co">## IGRAPH 17d24f8 UN-B 79 140 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), type (v/c), n (v/n), from.type (e/c),</span></span>
<span><span class="co">## | to.type (e/c), status_id (e/c)</span></span>
<span><span class="co">## + edges from 17d24f8 (vertex names):</span></span>
<span><span class="co">##  [1] prior          --#npc               prior          --#nationalpressclub</span></span>
<span><span class="co">##  [3] prior          --#lnpneveragain     probyn         --#npc              </span></span>
<span><span class="co">##  [5] probyn         --#nationalpressclub probyn         --#lnpneveragain    </span></span>
<span><span class="co">##  [7] keating        --#npc               keating        --#nationalpressclub</span></span>
<span><span class="co">##  [9] keating        --#lnpneveragain     encounter      --#npc              </span></span>
<span><span class="co">## [11] encounter      --#nationalpressclub encounter      --#lnpneveragain    </span></span>
<span><span class="co">## [13] turnbullmalcolm--#robodebtrc        lucid          --#robodebtrc       </span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="id_2-mode-network">2-mode network<a class="anchor" aria-label="anchor" href="#id_2-mode-network"></a>
</h5>
<p>Nodes are twitter <code>users</code> or <code>hashtags</code>. Edges represent the use of a <code>hashtag</code> or the reference to another <code>user</code> in a tweet. The <code>weighted</code> parameter will add a simple frequency weight column for <code>edges</code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_2mode</span> <span class="op">&lt;-</span> <span class="va">collect_tw</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"twomode"</span>, </span>
<span>         removeTermsOrHashtags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#auspol"</span><span class="op">)</span>,</span>
<span>         weighted <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Generating twitter 2-mode network...</span></span>
<span><span class="co">## Removing terms and hashtags: #auspol</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected tweets  | 100</span></span>
<span><span class="co">## removed specified | 14</span></span>
<span><span class="co">## users             | 19</span></span>
<span><span class="co">## hashtags          | 21</span></span>
<span><span class="co">## nodes             | 48</span></span>
<span><span class="co">## edges             | 40</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_2mode</span> <span class="op">&lt;-</span> <span class="va">net_2mode</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span>writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Creating igraph network graph...</span></span>
<span><span class="co">## GRAPHML file written: ./vsml-data/2023-03-16_081229-Twitter2mode.graphml</span></span>
<span><span class="co">## Done.</span></span>
<span></span>
<span><span class="fu">mask</span><span class="op">(</span><span class="va">g_2mode</span><span class="op">)</span></span>
<span><span class="co">## IGRAPH 17f6a4e DNWB 48 40 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), type (v/c), user_id (v/c), screen_name</span></span>
<span><span class="co">## | (v/c), status_id (e/c), created_at (e/c), is_retweet (e/l), is_quote</span></span>
<span><span class="co">## | (e/l), is_reply (e/l), weight (e/n)</span></span>
<span><span class="co">## + edges from 17f6a4e (vertex names):</span></span>
<span><span class="co">##  [1] @cxxxxxxxxxlk   -&gt;#npc               @cxxxxxxxxxlk   -&gt;#nationalpressclub</span></span>
<span><span class="co">##  [3] @cxxxxxxxxxlk   -&gt;#lnpneveragain     @bxxxxxxxxxxxxod-&gt;#robodebtrc       </span></span>
<span><span class="co">##  [5] @hxxxxxxxxxxxxhc-&gt;@cxxxxxxxon        @sxxxxxxbo      -&gt;@mxxxxxxxxxxxxqe  </span></span>
<span><span class="co">##  [7] @sxxxxxxbo      -&gt;@shm               @sxxxxxxbo      -&gt;#media            </span></span>
<span><span class="co">##  [9] @sxxxxxxbo      -&gt;#newspapers        @fxxxxxxxxxxob  -&gt;#svb              </span></span>
<span><span class="co">## [11] @fxxxxxxxxxxob  -&gt;#lehmanbrothers    @fxxxxxxxxxxob  -&gt;#creditsuisse     </span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="youtube-usage">YouTube Usage<a class="anchor" aria-label="anchor" href="#youtube-usage"></a>
</h3>
<div class="section level4">
<h4 id="authenticate-and-collect-comments-from-youtube-videos">Authenticate and Collect comments from youtube videos<a class="anchor" aria-label="anchor" href="#authenticate-and-collect-comments-from-youtube-videos"></a>
</h4>
<p>YouTube uses an API key rather than an OAuth token and is simply set by calling <code>Authenticate</code> with the key as a parameter.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># youtube authentication sets the api key</span></span>
<span><span class="va">auth_yt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"youtube"</span>, apiKey <span class="op">=</span> <span class="st">"xxxxxxxxxxxxxx"</span><span class="op">)</span></span></code></pre></div>
<p>Once the key is set then <code>Collect</code> can be used to collect the comments from specified youtube videos. The following example collects a maximum of 100 top-level comments and all replies from each of the 2 specified video ID’s. It produces a dataframe with the combined comment data.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">video_url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://www.youtube.com/watch?v=AQzZNIyjyWM"</span>,</span>
<span>               <span class="st">"https://www.youtube.com/watch?v=lY0YLDZhT88&amp;t=3152s"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">collect_yt</span> <span class="op">&lt;-</span> <span class="va">auth_yt</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>videoIDs <span class="op">=</span> <span class="va">video_url</span>,</span>
<span>          maxComments <span class="op">=</span> <span class="fl">100</span>,</span>
<span>          verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Collecting comment threads for YouTube videos...</span></span>
<span><span class="co">## Video 1 of 2</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## ** Creating dataframe from threads of AQzZNIyjyWM.</span></span>
<span><span class="co">## ** Collecting replies for 1 threads with replies. Please be patient.</span></span>
<span><span class="co">## Comment replies 1 </span></span>
<span><span class="co">## ** Collected replies: 1</span></span>
<span><span class="co">## ** Total video comments: 11</span></span>
<span><span class="co">## (Video API unit cost: 5)</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## Video 2 of 2</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## ** Creating dataframe from threads of lY0YLDZhT88.</span></span>
<span><span class="co">## ** Collecting replies for 1 threads with replies. Please be patient.</span></span>
<span><span class="co">## Comment replies 6 </span></span>
<span><span class="co">## ** Collected replies: 6</span></span>
<span><span class="co">## ** Total video comments: 14</span></span>
<span><span class="co">## (Video API unit cost: 5)</span></span>
<span><span class="co">## ---------------------------------------------------------------</span></span>
<span><span class="co">## ** Total comments collected for all videos 25.</span></span>
<span><span class="co">## (Estimated API unit cost: 10)</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-youtube-activity-and-actor-network-graphs">Create youtube activity and actor network graphs<a class="anchor" aria-label="anchor" href="#create-youtube-activity-and-actor-network-graphs"></a>
</h4>
<p>The youtube <code>Create</code> function accepts the data from <code>Collect</code> and a network type parameter of <code>activity</code> or <code>actor</code>.</p>
<div class="section level5">
<h5 id="activity-network-1">Activity network<a class="anchor" aria-label="anchor" href="#activity-network-1"></a>
</h5>
<p>Nodes are video comments and edges represent whether they were directed to the video as a top-level comment or to another comment as a reply comment.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Generating youtube activity network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected YouTube comments | 25</span></span>
<span><span class="co">## top-level comments         | 18</span></span>
<span><span class="co">## reply comments             | 7</span></span>
<span><span class="co">## videos                     | 2</span></span>
<span><span class="co">## nodes                      | 27</span></span>
<span><span class="co">## edges                      | 25</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_activity</span></span>
<span><span class="co">## IGRAPH 18b6289 DN-- 27 25 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), video_id (v/c), published_at (v/c),</span></span>
<span><span class="co">## | updated_at (v/c), author_id (v/c), screen_name (v/c), node_type</span></span>
<span><span class="co">## | (v/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 18b6289 (vertex names):</span></span>
<span><span class="co">## [1] Ugw13lb0nCf4o4IKFb54AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## [2] UgyJBlqZ64YnltQTOTt4AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## [3] Ugysomx_apk24Pqrs1h4AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## [4] UgxTjkzuvY2BOKUThT14AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## [5] Ugx7yyBFwvDBe8hGexB4AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## [6] UgxDjVTbpt6BCRw4Lqx4AaABAg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="actor-network-1">Actor network<a class="anchor" aria-label="anchor" href="#actor-network-1"></a>
</h5>
<p>Nodes are users who have posted comments and the video publishers, edges represent comments directed at other users.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Generating YouTube actor network...</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_actor</span></span>
<span><span class="co">## IGRAPH 18c4cf0 DN-- 24 27 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), screen_name (v/c), node_type (v/c),</span></span>
<span><span class="co">## | video_id (e/c), comment_id (e/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 18c4cf0 (vertex names):</span></span>
<span><span class="co">##  [1] UCb9ElH9tzEkG9OxDIiSYgdg-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [2] UC0DwaB_wHNzUh-LA9sWXKYQ-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [3] UCNHA8SkizJKauefYt1FHmjQ-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [4] UCmFYrmqK7zO51STyk1jBSTw-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [5] UC4Wa_1O2w4Wf8MhrIdYFZCQ-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [6] UCGwMcYKT2hmT3MEy4Bgfpiw-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">##  [7] UCW_9UuD91Ult0wwyn2Mnb_w-&gt;VIDEOID:AQzZNIyjyWM</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="reddit-usage">Reddit Usage<a class="anchor" aria-label="anchor" href="#reddit-usage"></a>
</h3>
<p>The reddit API end-point used by <code>vosonSML</code> does not require authentication but an <code>Authenticate</code> object is still used to set up the collection and creation operations as part of a reddit workflow.</p>
<div class="section level4">
<h4 id="collect-a-thread-listing-from-subreddit">Collect a thread listing from subreddit<a class="anchor" aria-label="anchor" href="#collect-a-thread-listing-from-subreddit"></a>
</h4>
<p>By using the <code>endpoint = "listing"</code> parameter and a vector of subreddit names, a list of comment threads and their metadata can be collected. The number of list results returned per subreddit can be coarsely specified within 25 items, by using the <code>max</code> parameter.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># specify subreddit names</span></span>
<span><span class="va">subreddits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datascience"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># collect a listing of the 25 top threads by upvote of all time</span></span>
<span><span class="va">collect_rd_listing</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"reddit"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>endpoint <span class="op">=</span> <span class="st">"listing"</span>, subreddits <span class="op">=</span> <span class="va">subreddits</span>,</span>
<span>          sort <span class="op">=</span> <span class="st">"top"</span>, period <span class="op">=</span> <span class="st">"all"</span>, max <span class="op">=</span> <span class="fl">25</span>,</span>
<span>          writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Collecting thread listing for subreddits...</span></span>
<span><span class="co">## Waiting between 3 and 5 seconds per request.</span></span>
<span><span class="co">## Request subreddit listing: datascience (max items: 25).</span></span>
<span><span class="co">## subreddit_id | subreddit   | count</span></span>
<span><span class="co">## ----------------------------------</span></span>
<span><span class="co">## t5_2sptq     | datascience | 25   </span></span>
<span><span class="co">## Collected metadata for 25 threads in listings.</span></span>
<span><span class="co">## RDS file written: ./vsml-data/2023-03-15_211232-RedditListing.rds</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="collect-reddit-threads">Collect reddit threads<a class="anchor" aria-label="anchor" href="#collect-reddit-threads"></a>
</h4>
<p>The reddit <code>Collect</code> function can then be used to collect comments from reddit threads specified by URL’s.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># specify reddit threads to collect by url</span></span>
<span><span class="va">thread_urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.reddit.com/r/datascience/comments/wcd8x5/"</span>,</span>
<span>  <span class="st">"https://www.reddit.com/r/datascience/comments/wcni2g/"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># or use permalinks from a previously collected listing</span></span>
<span><span class="va">thread_urls</span> <span class="op">&lt;-</span> <span class="va">collect_rd_listing</span><span class="op">$</span><span class="va">permalink</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># collect comment threads with their comments sorted by best comments first</span></span>
<span><span class="va">collect_rd</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"reddit"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>threadUrls <span class="op">=</span> <span class="va">thread_urls</span>,</span>
<span>          sort <span class="op">=</span> <span class="st">"best"</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Collecting comment threads for reddit urls...</span></span>
<span><span class="co">## Waiting between 3 and 5 seconds per thread request.</span></span>
<span><span class="co">## Request thread: r/datascience (k8nyf8)</span></span>
<span><span class="co">## Request thread: r/datascience (oeg6nl)</span></span>
<span><span class="co">## Request thread: r/datascience (hohvgq)</span></span>
<span><span class="co">## HTML decoding comments.</span></span>
<span><span class="co">## thread_id | title                                         | subreddit   | count</span></span>
<span><span class="co">## -------------------------------------------------------------------------------</span></span>
<span><span class="co">## hohvgq    | Shout Out to All the Mediocre Data Scienti... | datascience | 272  </span></span>
<span><span class="co">## k8nyf8    | data siens                                    | datascience | 77   </span></span>
<span><span class="co">## oeg6nl    | The pain and excitement                       | datascience | 179</span></span>
<span><span class="co">## Collected 528 total comments.</span></span>
<span><span class="co">## RDS file written: ./vsml-data/2023-03-15_211245-RedditData.rds</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<p><em>Please note that because of the API end-point used that <code>Collect</code> is limited to the first 500 comments per thread (plus 500 for each <code>continue thread</code> encountered). It is therefore suited to collecting only smaller threads in their entirety.</em></p>
</div>
<div class="section level4">
<h4 id="create-reddit-activity-and-actor-networks">Create reddit activity and actor networks<a class="anchor" aria-label="anchor" href="#create-reddit-activity-and-actor-networks"></a>
</h4>
<div class="section level5">
<h5 id="activity-network-2">Activity network<a class="anchor" aria-label="anchor" href="#activity-network-2"></a>
</h5>
<p>Nodes are original thread posts and comments, edges are replies directed to the original post and to comments made by others.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create an activity network</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_rd</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Generating reddit activity network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected reddit comments | 528</span></span>
<span><span class="co">## subreddits                | 1 </span></span>
<span><span class="co">## threads                   | 3 </span></span>
<span><span class="co">## comments                  | 528</span></span>
<span><span class="co">## nodes                     | 531</span></span>
<span><span class="co">## edges                     | 528</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_activity</span></span>
<span><span class="co">## IGRAPH 218b185 DN-- 531 528 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), thread_id (v/c), comm_id (v/c),</span></span>
<span><span class="co">## | datetime (v/c), ts (v/n), subreddit (v/c), user (v/c), node_type</span></span>
<span><span class="co">## | (v/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 218b185 (vertex names):</span></span>
<span><span class="co">##  [1] k8nyf8.1      -&gt;k8nyf8.0     k8nyf8.1_1    -&gt;k8nyf8.1    </span></span>
<span><span class="co">##  [3] k8nyf8.1_2    -&gt;k8nyf8.1     k8nyf8.1_2_1  -&gt;k8nyf8.1_2  </span></span>
<span><span class="co">##  [5] k8nyf8.1_2_1_1-&gt;k8nyf8.1_2_1 k8nyf8.1_2_1_2-&gt;k8nyf8.1_2_1</span></span>
<span><span class="co">##  [7] k8nyf8.1_2_1_3-&gt;k8nyf8.1_2_1 k8nyf8.1_2_2  -&gt;k8nyf8.1_2  </span></span>
<span><span class="co">##  [9] k8nyf8.1_3    -&gt;k8nyf8.1     k8nyf8.1_3_1  -&gt;k8nyf8.1_3  </span></span>
<span><span class="co">## [11] k8nyf8.2      -&gt;k8nyf8.0     k8nyf8.2_1    -&gt;k8nyf8.2    </span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="actor-network-2">Actor network<a class="anchor" aria-label="anchor" href="#actor-network-2"></a>
</h5>
<p>Nodes are reddit users who have commented on threads and edges represent replies to other users.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create an actor network</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_rd</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Generating reddit actor network...</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## collected reddit comments | 528</span></span>
<span><span class="co">## subreddits                | 1 </span></span>
<span><span class="co">## threads                   | 3 </span></span>
<span><span class="co">## comments                  | 273</span></span>
<span><span class="co">## nodes                     | 321</span></span>
<span><span class="co">## edges                     | 531</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_actor</span></span>
<span><span class="co">## IGRAPH 219dff9 DN-- 321 531 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), user (v/c), subreddit (e/c), thread_id</span></span>
<span><span class="co">## | (e/c), comment_id (e/n), comm_id (e/c)</span></span>
<span><span class="co">## + edges from 219dff9 (vertex names):</span></span>
<span><span class="co">##  [1] 1 -&gt;1  2 -&gt;1  3 -&gt;1  1 -&gt;3  3 -&gt;1  4 -&gt;1  5 -&gt;1  6 -&gt;3  7 -&gt;1  8 -&gt;7 </span></span>
<span><span class="co">## [11] 9 -&gt;1  1 -&gt;9  10-&gt;1  11-&gt;1  1 -&gt;11 1 -&gt;1  1 -&gt;1  1 -&gt;1  1 -&gt;1  1 -&gt;1 </span></span>
<span><span class="co">## [21] 12-&gt;1  13-&gt;11 14-&gt;1  15-&gt;14 1 -&gt;14 16-&gt;1  17-&gt;16 18-&gt;16 16-&gt;18 19-&gt;16</span></span>
<span><span class="co">## [31] 20-&gt;16 21-&gt;1  22-&gt;21 23-&gt;21 24-&gt;1  25-&gt;24 26-&gt;25 27-&gt;26 28-&gt;27 1 -&gt;28</span></span>
<span><span class="co">## [41] 29-&gt;1  28-&gt;1  1 -&gt;28 28-&gt;1  26-&gt;27 30-&gt;25 31-&gt;24 1 -&gt;1  32-&gt;1  1 -&gt;32</span></span>
<span><span class="co">## [51] 33-&gt;32 32-&gt;33 33-&gt;32 34-&gt;1  35-&gt;1  36-&gt;35 37-&gt;1  36-&gt;37 38-&gt;1  39-&gt;1 </span></span>
<span><span class="co">## [61] 40-&gt;1  41-&gt;1  42-&gt;1  43-&gt;1  36-&gt;1  44-&gt;1  45-&gt;1  46-&gt;1  47-&gt;46 46-&gt;47</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="hyperlink-usage">Hyperlink Usage<a class="anchor" aria-label="anchor" href="#hyperlink-usage"></a>
</h3>
<div class="section level4">
<h4 id="authenticate-and-collect-from-web-sites">Authenticate and Collect from web sites<a class="anchor" aria-label="anchor" href="#authenticate-and-collect-from-web-sites"></a>
</h4>
<p>The <code>vosonSML</code> hyperlink collection functionality does not require authentication as it is not using any web API’s, however an <code>Authenticate</code> object is still used to set up the collection and creation operations as part of the <code>vosonSML</code> workflow.</p>
<p>The hyperlink <code>Collect</code> function accepts a dataframe of seed web pages, as well as corresponding <code>type</code> and <code>max_depth</code> parameters for each page.</p>
<p><em>Please note that this implementalion of hyperlink collection and networks is still in an experimental stage.</em></p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># specify seed web pages and parameters for hyperlink collection</span></span>
<span><span class="va">seed_pages</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>page <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"http://vosonlab.net"</span>,</span>
<span>                      <span class="st">"https://www.oii.ox.ac.uk"</span>,</span>
<span>                      <span class="st">"https://sonic.northwestern.edu"</span><span class="op">)</span>,</span>
<span>             type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ext"</span>, <span class="st">"ext"</span>, <span class="st">"ext"</span><span class="op">)</span>,</span>
<span>             max_depth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">collect_web</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Authenticate.html">Authenticate</a></span><span class="op">(</span><span class="st">"web"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>pages <span class="op">=</span> <span class="va">seed_pages</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Collecting web page hyperlinks...</span></span>
<span><span class="co"># *** initial call to get urls - http://vosonlab.net</span></span>
<span><span class="co"># * new domain: http://vosonlab.net </span></span>
<span><span class="co"># + http://vosonlab.net (10 secs)</span></span>
<span><span class="co"># *** end initial call</span></span>
<span><span class="co"># *** set depth: 2</span></span>
<span><span class="co"># *** loop call to get urls - nrow: 6 depth: 2 max_depth: 2</span></span>
<span><span class="co"># * new domain: http://rsss.anu.edu.au </span></span>
<span><span class="co"># + http://rsss.anu.edu.au (0.96 secs)</span></span>
<span><span class="co"># ...</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-activity-and-actor-networks">Create activity and actor networks<a class="anchor" aria-label="anchor" href="#create-activity-and-actor-networks"></a>
</h4>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generate a hyperlink activity network</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_web</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate a hyperlink actor network</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_web</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="supplemental-functions">
<a name="supplemental-functions"></a>Supplemental Functions<a class="anchor" aria-label="anchor" href="#supplemental-functions"></a>
</h3>
<div class="section level4">
<h4 id="merge-collected-data-together">Merge collected data together<a class="anchor" aria-label="anchor" href="#merge-collected-data-together"></a>
</h4>
<p>The <code>Merge</code> and <code>MergeFiles</code> functions allow two or more <code>Collect</code> objects to be merged together provided they are of the same datasource type e.g <code>twitter</code>, <code>youtube</code>.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># collect data</span></span>
<span><span class="va">collect_tw_auspol</span> <span class="op">&lt;-</span> <span class="va">auth_tw_bearer</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>searchTerm <span class="op">=</span> <span class="st">"#auspol"</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">collect_tw_springst</span> <span class="op">&lt;-</span> <span class="va">auth_tw_bearer</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Collect.html">Collect</a></span><span class="op">(</span>searchTerm <span class="op">=</span> <span class="st">"#springst"</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># merge collect objects</span></span>
<span><span class="va">data_tw</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Merge.html">Merge</a></span><span class="op">(</span></span>
<span>  <span class="va">collect_tw_auspol</span>, <span class="va">collect_tw_springst</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># merge files from a data directory</span></span>
<span><span class="va">data_tw</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/MergeFiles.html">MergeFiles</a></span><span class="op">(</span></span>
<span>  <span class="st">"vsml-tw-data"</span>, pattern <span class="op">=</span> <span class="st">"*TwitterData.rds"</span>, writeToFile <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="addtext-adds-collected-text-data-to-networks-as-node-or-edge-attributes">AddText adds collected text data to networks as node or edge attributes<a class="anchor" aria-label="anchor" href="#addtext-adds-collected-text-data-to-networks-as-node-or-edge-attributes"></a>
</h4>
<p>The <code>AddText</code> function can be used following the creation of all networks for <code>twitter</code>, <code>youtube</code> and <code>reddit</code>. It will add an attribute starting with <code>vosonTxt_</code> to nodes of <code>activity</code> networks and to edges of <code>actor</code> networks. It requires a collected <code>datasource</code> from which to extract text data.</p>
<p>An additional parameter <code>hashtags</code> is available for <code>twitter</code> networks that will add tweet hashtags as an attribute.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create activity network</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">collect_tw</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># activity network with text data added as node attribute</span></span>
<span><span class="va">net_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">collect_tw</span>, hashtags <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Adding text data to network...Done.</span></span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_activity</span> <span class="op">&lt;-</span> <span class="va">net_activity</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_activity</span></span>
<span><span class="co">## IGRAPH 2209f1e DN-- 168 100 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), author_id (v/c), author_screen_name</span></span>
<span><span class="co">## | (v/c), created_at (v/c), t.is_reply (v/l), t.is_quote (v/l),</span></span>
<span><span class="co">## | t.is_retweet (v/l), t.full_text (v/c), t.hashtags (v/x),</span></span>
<span><span class="co">## | t.quoted.status_id (v/c), t.quoted.full_text (v/c), t.quoted.hashtags</span></span>
<span><span class="co">## | (v/x), t.retweeted.status_id (v/c), t.retweeted.full_text (v/c),</span></span>
<span><span class="co">## | t.retweeted.hashtags (v/x), vosonTxt_tweet (v/c), vosonTxt_hashtags</span></span>
<span><span class="co">## | (v/c), user_id (e/c), screen_name (e/c), created_at (e/c), edge_type</span></span>
<span><span class="co">## | (e/c)</span></span>
<span><span class="co">## + edges from 2209f1e (vertex names):</span></span>
<span><span class="co">## [1] 1636113064239169536-&gt;1635473085523709954</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
<p><code>AddText</code> will also redirect some edges in a youtube <code>actor</code> network by finding user references at the beginning of reply comments text using the <code>repliesFromText</code> parameter. In the following example an edge would be redirected from <code>UserC</code> to <code>UserB</code> by text reference as opposed to <code>UserA</code> who made the top-level comment both users are replying to.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># video comments</span></span>
<span><span class="co"># UserA: Great tutorial.</span></span>
<span><span class="co"># |- UserB: I agree, but it could have had more examples.</span></span>
<span><span class="co"># |- UserC: @UserB I thought it probably had too many.</span></span></code></pre></div>
<p>Redirect edge between user nodes <code>C -&gt; A</code> to <code>C -&gt; B</code>.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create activity network</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># detects replies to users in text</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/AddText.html">AddText</a></span><span class="op">(</span><span class="va">collect_yt</span>,</span>
<span>          repliesFromText <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Adding text data to network...Done.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="adduserdata-requests-and-adds-user-profile-data-to-networks">AddUserData requests and adds user profile data to networks<a class="anchor" aria-label="anchor" href="#adduserdata-requests-and-adds-user-profile-data-to-networks"></a>
</h4>
<p><code>AddUserData</code> adds user profile information from the <code>users</code> dataframe to as many users in a twitter <code>actor</code> and <code>2mode</code> network as possible. If the profile information is not available for referenced users in the collect data then the user id and name will be added to the <code>missing_users</code> dataframe. If the profile metadata is not available in the collect data and the <code>lookupUsers</code> parameter is set then additional twitter API requests will be made to retrieve the missing information.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add additional twitter user profile info</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_tw</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">net_actor_meta</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/AddUserData.html">AddUserData</a></span><span class="op">(</span><span class="va">collect_tw</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Adding user data to network...Done.</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">net_actor_meta</span><span class="op">)</span></span>
<span><span class="co">## [1] "edges"         "nodes"         "missing_users"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">net_actor_meta</span><span class="op">$</span><span class="va">missing_users</span><span class="op">)</span></span>
<span><span class="co">## [1] 19</span></span>
<span></span>
<span><span class="co"># add additional twitter user profile info</span></span>
<span><span class="va">net_actor_lookupmeta</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/AddUserData.html">AddUserData</a></span><span class="op">(</span><span class="va">collect_tw</span>,</span>
<span>              lookupUsers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              twitterAuth <span class="op">=</span> <span class="va">auth_tw_bearer</span>,</span>
<span>              verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Adding user data to network...Done.</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">net_actor_lookupmeta</span><span class="op">)</span></span>
<span><span class="co">## [1] "edges"         "nodes"         "missing_users" "lookup_users"</span></span></code></pre></div>
<p>For reference the <code>AddUserData</code> function will also add a new dataframe to the <code>actor_network</code> network list containing the retrieved user metadata.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor_meta</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_actor</span></span>
<span><span class="co">## IGRAPH 22e87b8 DN-- 139 116 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), screen_name (v/c), u.user_id (v/c),</span></span>
<span><span class="co">## | u.name (v/c), u.screen_name (v/c), u.location (v/c), u.derived (v/x),</span></span>
<span><span class="co">## | u.url (v/c), u.description (v/c), u.protected (v/l), u.verified</span></span>
<span><span class="co">## | (v/l), u.followers_count (v/n), u.friends_count (v/n), u.listed_count</span></span>
<span><span class="co">## | (v/n), u.favourites_count (v/n), u.statuses_count (v/n), u.created_at</span></span>
<span><span class="co">## | (v/c), u.profile_banner_url (v/c), u.default_profile (v/l),</span></span>
<span><span class="co">## | u.default_profile_image (v/l), u.withheld_in_countries (v/x),</span></span>
<span><span class="co">## | u.withheld_scope (v/l), u.utc_offset (v/l), u.time_zone (v/l),</span></span>
<span><span class="co">## | u.geo_enabled (v/l), u.lang (v/l), u.has_extended_profile (v/l),</span></span>
<span><span class="co">## | status_id (e/c), created_at (e/c), edge_type (e/c)</span></span>
<span><span class="co">## + edges from 22e87b8 (vertex names):</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="addvideodata-requests-and-adds-video-data-to-networks">AddVideoData requests and adds video data to networks<a class="anchor" aria-label="anchor" href="#addvideodata-requests-and-adds-video-data-to-networks"></a>
</h4>
<p><code>AddVideoData</code> adds video information as node attributes in youtube <code>actor</code> networks and replaces the video ID nodes with a user (channel owner or publisher). The <code>actorSubOnly</code> parameter can be used to only perform the ID substitution.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># replaces VIDEOID:xxxxxx references in actor network with their publishers</span></span>
<span><span class="co"># user id (channel ID) and adds additional collected youtube video info to actor</span></span>
<span><span class="co"># network graph as node attributes</span></span>
<span><span class="va">net_actor</span> <span class="op">&lt;-</span> <span class="va">collect_yt</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/Create.html">Create</a></span><span class="op">(</span><span class="st">"actor"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/AddVideoData.html">AddVideoData</a></span><span class="op">(</span><span class="va">auth_yt</span>, actorSubOnly <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">net_actor</span><span class="op">)</span></span>
<span><span class="co">## [1] "nodes"  "edges"  "videos"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">net_actor</span><span class="op">$</span><span class="va">videos</span><span class="op">)</span></span>
<span><span class="co">## [1] 2</span></span></code></pre></div>
<p><code>AddVideoData</code> function will also add a new dataframe to the <code>actor_network</code> network list containing the retrieved video information called <code>videos</code>.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_actor</span> <span class="op">&lt;-</span> <span class="va">net_actor</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/Graph.html">Graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_actor</span></span>
<span><span class="co">## IGRAPH 2313b9b DN-- 23 27 -- </span></span>
<span><span class="co">## + attr: type (g/c), name (v/c), screen_name (v/c), node_type (v/c),</span></span>
<span><span class="co">## | video_id (e/c), comment_id (e/c), edge_type (e/c), video_title (e/c),</span></span>
<span><span class="co">## | video_description (e/c), video_published_at (e/c)</span></span>
<span><span class="co">## + edges from 2313b9b (vertex names):</span></span>
<span><span class="co">## [1] UCb9ElH9tzEkG9OxDIiSYgdg-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## [2] UC0DwaB_wHNzUh-LA9sWXKYQ-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## [3] UCNHA8SkizJKauefYt1FHmjQ-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## [4] UCmFYrmqK7zO51STyk1jBSTw-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## [5] UC4Wa_1O2w4Wf8MhrIdYFZCQ-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## [6] UCGwMcYKT2hmT3MEy4Bgfpiw-&gt;UCeiiqmVK07qhY-wvg3IZiZQ</span></span>
<span><span class="co">## + ... omitted several edges</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="where-to-next">Where to next?<a class="anchor" aria-label="anchor" href="#where-to-next"></a>
</h2>
<p>Continue working with the network graphs using the <code>igraph</code> package and check out some examples of plots in the <a href="https://vosonlab.github.io/vosonSML/articles/Intro-to-vosonSML.html" class="external-link">Introduction to vosonSML</a> vignette. The <code>graphml</code> files produced by <code>vosonSML</code> are also easily imported into software such as <a href="https://gephi.org/" class="external-link">Gephi</a> for further visualization and exploration of networks.</p>
<p>As an alternative to <code>vosonSML</code> using the R command-line interface we have also developed an R Shiny app called <a href="https://vosonlab.github.io/VOSONDash/" class="external-link">VOSON Dash</a>. It provides a user friendly GUI for the collection of data using <code>vosonSML</code> and has additional network visualization and analysis features.</p>
<p>For more detailed information about functions and their parameters, please refer to the <a href="https://vosonlab.github.io/vosonSML/reference/index.html" class="external-link">Reference</a> page.</p>
</div>
<div class="section level2">
<h2 id="special-thanks">Special thanks<a class="anchor" aria-label="anchor" href="#special-thanks"></a>
</h2>
<p>This package would not be possible without key packages by other authors in the R community, particularly: <a href="https://github.com/Rdatatable/data.table" class="external-link">data.table</a>, <a href="https://github.com/tidyverse/dplyr" class="external-link">dplyr</a>, <a href="https://github.com/r-lib/httr" class="external-link">httr</a>, <a href="https://github.com/igraph/rigraph" class="external-link">igraph</a>, <a href="https://github.com/ivan-rivera/RedditExtractoR" class="external-link">RedditExtractoR</a>, <a href="https://github.com/ropensci/rtweet" class="external-link">rtweet</a> and <a href="https://github.com/juliasilge/tidytext" class="external-link">tidytext</a>.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the VOSON Lab projects are released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=vosonSML" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/vosonlab/vosonSML/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/vosonlab/vosonSML/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing vosonSML</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bryan Gertzel <br><small class="roles"> Author, maintainer </small>  </li>
<li>Robert Ackland <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-0008-1766" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Timothy Graham <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4053-9313" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Bryan Gertzel, Robert Ackland, Timothy Graham.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
