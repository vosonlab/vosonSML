<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Collect tweet data from twitter search — Collect.twitter • vosonSML</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Collect tweet data from twitter search — Collect.twitter" />
<meta property="og:description" content="This function collects tweet data based on search terms and structures the data into a dataframe with 
the class names &quot;datasource&quot; and &quot;twitter&quot;.
The twitter Standard search API sets a rate limit of 180 requests every 15 minutes. A maximum of 100 tweets can be 
collected per search request meaning the maximum number of tweets per operation is 18000 / 15 minutes. More tweets 
can be collected by using retryOnRateLimit = TRUE parameter which will cause the collection to pause if the 
rate limit is reached and resume when the rate limit resets (in approximately 15 minutes). Alternatively the twitter 
API parameter since_id can be used in a later session to resume a twitter search collection from the last 
tweet previously collected as tweet status id's are sequential. The Standard API only returns tweets for the last 
7 days.
All of the search query operators available through the twitter API can be used in the searchTerm field. 
For example, to search for tweets containing the term &quot;love&quot; or &quot;hate&quot; the &quot;OR&quot; operator can be 
used in the term field: searchTerm = &quot;love OR hate&quot;. For more information refer to the twitter API 
documentation for query operators: https://developer.twitter.com/en/docs/tweets/search/guides/standard-operators." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vosonSML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.28.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-cubes"></span>
     
    Reference
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/vosonlab/vosonSML">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collect tweet data from twitter search</h1>
    <small class="dont-index">Source: <a href='https://github.com/vosonlab/vosonSML/blob/master/R/Collect.twitter.R'><code>R/Collect.twitter.R</code></a></small>
    <div class="hidden name"><code>Collect.twitter.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function collects tweet data based on search terms and structures the data into a dataframe with 
the class names <code>"datasource"</code> and <code>"twitter"</code>.</p>
<p>The twitter Standard search API sets a rate limit of 180 requests every 15 minutes. A maximum of 100 tweets can be 
collected per search request meaning the maximum number of tweets per operation is 18000 / 15 minutes. More tweets 
can be collected by using <code>retryOnRateLimit = TRUE</code> parameter which will cause the collection to pause if the 
rate limit is reached and resume when the rate limit resets (in approximately 15 minutes). Alternatively the twitter 
API parameter <code>since_id</code> can be used in a later session to resume a twitter search collection from the last 
tweet previously collected as tweet status id's are sequential. The Standard API only returns tweets for the last 
7 days.</p>
<p>All of the search query operators available through the twitter API can be used in the <code>searchTerm</code> field. 
For example, to search for tweets containing the term <code>"love"</code> or <code>"hate"</code> the <code>"OR"</code> operator can be 
used in the term field: <code>searchTerm = "love OR hate"</code>. For more information refer to the twitter API 
documentation for query operators: <a href='https://developer.twitter.com/en/docs/tweets/search/guides/standard-operators'>https://developer.twitter.com/en/docs/tweets/search/guides/standard-operators</a>.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for twitter</span>
<span class='fu'><a href='Collect.html'>Collect</a></span>(<span class='no'>credential</span>, <span class='kw'>searchTerm</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>searchType</span> <span class='kw'>=</span> <span class='st'>"recent"</span>, <span class='kw'>numTweets</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>includeRetweets</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>retryOnRateLimit</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>writeToFile</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>credential</th>
      <td><p>A <code>credential</code> object generated from <code>Authenticate</code> with class name <code>"twitter"</code>.</p></td>
    </tr>
    <tr>
      <th>searchTerm</th>
      <td><p>Character string. Specifies a twitter search term. For example, <code>"Australian politics"</code> or 
the hashtag <code>"#auspol"</code>.</p></td>
    </tr>
    <tr>
      <th>searchType</th>
      <td><p>Character string. Returns filtered tweets as per search type <code>recent</code>, <code>mixed</code> or 
<code>popular</code>. Default type is <code>recent</code>.</p></td>
    </tr>
    <tr>
      <th>numTweets</th>
      <td><p>Numeric. Specifies how many tweets to be collected. Defaults is <code>100</code>.</p></td>
    </tr>
    <tr>
      <th>includeRetweets</th>
      <td><p>Logical. Specifies if the search should filter out retweets. Defaults is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>retryOnRateLimit</th>
      <td><p>Logical. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>writeToFile</th>
      <td><p>Logical. Write collected data to file. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical. Output additional information about the data collection. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed on to <code><a href='https://www.rdocumentation.org/packages/rtweet/topics/search_tweets'>rtweet::search_tweets</a></code></p><dl class='dl-horizontal'>
  <dt>geocode</dt><dd><p>Geographical limiter of the template
"latitude,longitude,radius" e.g., <code>geocode =
"37.78,-122.40,1mi"</code>.</p></dd>
  <dt>max_id</dt><dd><p>Character, returns results with an ID less
than (that is, older than) or equal to `max_id`.  Especially
useful for large data returns that require multiple iterations
interrupted by user time constraints. For searches exceeding
18,000 tweets, users are encouraged to take advantage of rtweet's
internal automation procedures for waiting on rate limits by
setting <code>retryonratelimit</code> argument to TRUE.  It some cases,
it is possible that due to processing time and rate limits,
retrieving several million tweets can take several hours or even
multiple days. In these cases, it would likely be useful to
leverage <code>retryonratelimit</code> for sets of tweets and
<code>max_id</code> to allow results to continue where previous efforts
left off.</p></dd>
  <dt>parse</dt><dd><p>Logical, indicating whether to return parsed
data.frame, if true, or nested list, if false. By default,
<code>parse = TRUE</code> saves users from the wreck of time and
frustration associated with disentangling the nasty nested list
returned from Twitter's API. As Twitter's APIs are subject to
change, this argument would be especially useful when changes to
Twitter's APIs affect performance of internal parsers. Setting
<code>parse = FALSE</code> also ensures the maximum amount of possible
information is returned. By default, the rtweet parse process
returns nearly all bits of information returned from
Twitter. However, users may occasionally encounter new or
omitted variables. In these rare cases, the nested list object
will be the only way to access these variables.</p></dd>
</dl></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data.frame object with class names <code>"datasource"</code> and <code>"twitter"</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Additional parameters passed to this function in the ellipsis <code>...</code> will also be passed to the Twitter 
search API request. Most parameters have been covered but a complete list can be found here: 
<a href='https://developer.twitter.com/en/docs/tweets/search/api-reference/get-search-tweets'>https://developer.twitter.com/en/docs/tweets/search/api-reference/get-search-tweets</a>
A useful additional parameter is <code>language</code> allowing the user can restrict tweets returned to a particular 
language using an ISO 639-1 code. For example, to restrict a search to tweets in English the value 
<code>language = "en"</code> can be passed to this function.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># search and collect 100 recent tweets for the hashtag #auspol</span>
<span class='no'>myTwitterData</span> <span class='kw'>&lt;-</span> <span class='no'>twitterAuth</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='Collect.html'>Collect</a></span>(<span class='kw'>searchTerm</span> <span class='kw'>=</span> <span class='st'>"#auspol"</span>, <span class='kw'>searchType</span> <span class='kw'>=</span> <span class='st'>"recent"</span>, <span class='kw'>numTweets</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
          <span class='kw'>includeRetweets</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>retryOnRateLimit</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>writeToFile</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://vosonlab.net'><span>VOSON Lab</span></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

